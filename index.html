<!DOCTYPE html>
<html lang="en">
<head>
Â  Â  <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
Â  Â  <meta http-equiv="Pragma" content="no-cache">
Â  Â  <meta http-equiv="Expires" content="0">
Â  Â  <meta charset="UTF-8">
Â  Â  <meta name="viewport" content="width=device-width, initial-scale=1.0">
Â  Â  <title>MEOW HELLO - The Purrfect Place</title>
Â  Â  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;700&family=Chewy&display=swap" rel="stylesheet">
Â  Â Â 
Â  Â  <style>
Â  Â  Â  Â  /* ==========================================================
Â  Â  Â  Â  Â  1. CORREZIONE GLOBALE SCORRIMENTO PC
Â  Â  Â  Â  Â  Â  Â  Rimosso overflow-x superfluo sul body e min-height/overflow
Â  Â  Â  Â  Â  Â  Â  sugli stati interni.
Â  Â  Â  Â  Â  Â ========================================================== */
Â  Â  Â  Â  html {
Â  Â  Â  Â  Â  Â  /* Assicura che l'elemento principale prenda tutta l'altezza */
Â  Â  Â  Â  Â  Â  height: 100%;Â 
Â  Â  Â  Â  Â  Â  /* Impedisce lo scorrimento orizzontale superfluo */
Â  Â  Â  Â  Â  Â  overflow-x: hidden;Â 
Â  Â  Â  Â  Â  Â  /* Permette lo scorrimento verticale naturale del documento */
Â  Â  Â  Â  Â  Â  overflow-y: auto;
Â  Â  Â  Â  }

Â  Â  Â  Â  body {
Â  Â  Â  Â  Â  Â  font-family: 'Poppins', sans-serif;
Â  Â  Â  Â  Â  Â  margin: 0;
Â  Â  Â  Â  Â  Â  transition: background-color 0.3s ease;
Â  Â  Â  Â  Â  Â  /* Garantisce che l'altezza minima sia l'altezza della finestra visibile (viewport) */
Â  Â  Â  Â  Â  Â  min-height: 100vh;Â 
Â  Â  Â  Â  Â  Â  /* Rimosso overflow-x: hidden dal body per evitare conflitti */
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  /* Assicuriamo che gli stati coprano il 100% dell'altezza minima definita nel body */
Â  Â  Â  Â  #catMaskState, #shopState, #checkoutState, #orderConfirmationState {
Â  Â  Â  Â  Â  Â  width: 100%;
Â  Â  Â  Â  Â  Â  min-height: 100%; /* Si adatta all'altezza minima del body */
Â  Â  Â  Â  Â  Â  opacity: 0;
Â  Â  Â  Â  Â  Â  transition: opacity 0.5s ease-in-out;
Â  Â  Â  Â  Â  Â  display: none;
Â  Â  Â  Â  Â  Â  box-sizing: border-box;
Â  Â  Â  Â  Â  Â  z-index: 1;
Â  Â  Â  Â  Â  Â  /* **ATTENZIONE:** Rimosso min-height: 100vh e overflow-y: auto da qui,
Â  Â  Â  Â  Â  Â  Â  Â  perchÃ© lo scorrimento deve essere gestito dal body/html */
Â  Â  Â  Â  }

Â  Â  Â  Â  #catMaskState {
Â  Â  Â  Â  Â  Â  display: flex;
Â  Â  Â  Â  Â  Â  opacity: 1;
Â  Â  Â  Â  Â  Â  background-color: #e0f7fa;
Â  Â  Â  Â  Â  Â  color: #333;
Â  Â  Â  Â  Â  Â  flex-direction: column;
Â  Â  Â  Â  Â  Â  justify-content: flex-start;
Â  Â  Â  Â  Â  Â  align-items: center;
Â  Â  Â  Â  Â  Â  padding: 20px 20px 50px 20px;
Â  Â  Â  Â  Â  Â  z-index: 2;
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  .visible {
Â  Â  Â  Â  Â  Â  opacity: 1 !important;
Â  Â  Â  Â  Â  Â  display: block !important;Â 
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  #catMaskState.visible {
Â  Â  Â  Â  Â  Â  display: flex !important;
Â  Â  Â  Â  }

Â  Â  Â  Â  #catMaskState.hidden {
Â  Â  Â  Â  Â  Â  opacity: 0 !important;
Â  Â  Â  Â  Â  Â  pointer-events: none;
Â  Â  Â  Â  Â  Â  position: absolute;
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  #catMaskState-header {
Â  Â  Â  Â  Â  Â  width: 100%;
Â  Â  Â  Â  Â  Â  max-width: 1200px;
Â  Â  Â  Â  Â  Â  display: flex;
Â  Â  Â  Â  Â  Â  justify-content: center;
Â  Â  Â  Â  Â  Â  align-items: center;
Â  Â  Â  Â  Â  Â  flex-direction: column;
Â  Â  Â  Â  Â  Â  margin-bottom: 30px;
Â  Â  Â  Â  }

Â  Â  Â  Â  #catMaskState-title h1 {
Â  Â  Â  Â  Â  Â  font-family: 'Chewy', cursive;
Â  Â  Â  Â  Â  Â  font-size: 4.5em;
Â  Â  Â  Â  Â  Â  color: #ff99aa;
Â  Â  Â  Â  Â  Â  margin-bottom: -15px;
Â  Â  Â  Â  Â  Â  text-align: center;
Â  Â  Â  Â  Â  Â  text-shadow: 2px 2px 0px #fff;
Â  Â  Â  Â  Â  Â  cursor: default;
Â  Â  Â  Â  }

Â  Â  Â  Â  #catMaskState-title p {
Â  Â  Â  Â  Â  Â  font-family: 'Poppins', sans-serif;
Â  Â  Â  Â  Â  Â  font-size: 1.2em;
Â  Â  Â  Â  Â  Â  color: #66bb6a;
Â  Â  Â  Â  Â  Â  font-weight: bold;
Â  Â  Â  Â  Â  Â  text-transform: uppercase;
Â  Â  Â  Â  Â  Â  margin: 0;
Â  Â  Â  Â  Â  Â  text-align: center;
Â  Â  Â  Â  }

Â  Â  Â  Â  .cat-image-container {
Â  Â  Â  Â  Â  Â  position: relative;
Â  Â  Â  Â  Â  Â  max-width: 600px;
Â  Â  Â  Â  Â  Â  width: 90%;
Â  Â  Â  Â  Â  Â  margin: 30px auto;
Â  Â  Â  Â  Â  Â  text-align: center;
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  .cat-hero-image {
Â  Â  Â  Â  Â  Â  width: 100%;
Â  Â  Â  Â  Â  Â  height: auto;
Â  Â  Â  Â  Â  Â  border-radius: 15px;
Â  Â  Â  Â  Â  Â  box-shadow: 0 10px 20px rgba(0, 0, 0, 0.15);
Â  Â  Â  Â  Â  Â  display: block;
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  /* SECRET SPOT: The invisible area */
Â  Â  Â  Â  .secret-spot {
Â  Â  Â  Â  position: absolute;
Â  Â  Â  Â  top: 0px;
Â  Â  Â  Â  right: 0px;
Â  Â  Â  Â  width: 5px;
Â  Â  Â  Â  height: 5px;
Â  Â  Â  Â  cursor: pointer;
Â  Â  Â  Â  z-index: 10;
Â  Â  Â  Â  opacity: 0; /* Correggi per essere totalmente invisibile */
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  /* Products on Cat Mask */
Â  Â  Â  Â  #maskProducts-container {
Â  Â  Â  Â  Â  Â  width: 100%;
Â  Â  Â  Â  Â  Â  max-width: 1000px;
Â  Â  Â  Â  Â  Â  padding: 20px 0;
Â  Â  Â  Â  Â  Â  margin-top: 20px;
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  #maskProducts-container h2 {
Â  Â  Â  Â  Â  Â  font-family: 'Poppins', sans-serif;
Â  Â  Â  Â  Â  Â  font-weight: 700;
Â  Â  Â  Â  Â  Â  color: #333;
Â  Â  Â  Â  Â  Â  margin-bottom: 25px;
Â  Â  Â  Â  Â  Â  text-align: center;
Â  Â  Â  Â  Â  Â  font-size: 2em;
Â  Â  Â  Â  }

Â  Â  Â  Â  .mask-product-grid {
Â  Â  Â  Â  Â  Â  display: grid;
Â  Â  Â  Â  Â  Â  grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
Â  Â  Â  Â  Â  Â  gap: 20px;
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  .mask-product-card {
Â  Â  Â  Â  Â  Â  background-color: #ffffff;
Â  Â  Â  Â  Â  Â  border-radius: 15px;
Â  Â  Â  Â  Â  Â  padding: 15px;
Â  Â  Â  Â  Â  Â  text-align: center;
Â  Â  Â  Â  Â  Â  box-shadow: 0 5px 15px rgba(0, 0, 0, 0.08);
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  /* *** CORREZIONE IMMAGINI PRODOTTI (Cat Mask) *** */
Â  Â  Â  Â  .mask-product-card img {
Â  Â  Â  Â  Â  Â  width: 100%;
Â  Â  Â  Â  Â  Â  height: 180px;Â 
Â  Â  Â  Â  Â  Â  /* Object-fit copre il contenitore, eliminando lo spazio bianco */
Â  Â  Â  Â  Â  Â  object-fit: cover;Â 
Â  Â  Â  Â  Â  Â  border-radius: 10px;
Â  Â  Â  Â  Â  Â  margin-bottom: 10px;
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  .mask-product-card h4 {
Â  Â  Â  Â  Â  Â  color: #555;
Â  Â  Â  Â  Â  Â  font-size: 0.9em;
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  .mask-product-card p {
Â  Â  Â  Â  Â  Â  color: #ff99aa;
Â  Â  Â  Â  Â  Â  font-weight: bold;
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  .mask-product-button {
Â  Â  Â  Â  Â  Â  background-color: #66bb6a;
Â  Â  Â  Â  Â  Â  color: white;
Â  Â  Â  Â  Â  Â  border: none;
Â  Â  Â  Â  Â  Â  padding: 10px 15px;
Â  Â  Â  Â  Â  Â  border-radius: 8px;
Â  Â  Â  Â  Â  Â  cursor: pointer;
Â  Â  Â  Â  Â  Â  width: 100%;
Â  Â  Â  Â  Â  Â  font-weight: bold;
Â  Â  Â  Â  }


Â  Â  Â  Â  /* --- SHOP MASK (Neutral/Original Look) --- */
Â  Â  Â  Â  #shopState {
Â  Â  Â  Â  Â  Â  background-color: #f4f4f4;
Â  Â  Â  Â  Â  Â  color: #333;
Â  Â  Â  Â  Â  Â  padding: 30px;
Â  Â  Â  Â  Â  Â  max-width: 1000px;
Â  Â  Â  Â  Â  Â  margin: 0 auto;
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  #shopState h1 {
Â  Â  Â  Â  Â  Â  font-size: 2.5em;
Â  Â  Â  Â  Â  Â  color: #1a1a1a;
Â  Â  Â  Â  Â  Â  text-transform: uppercase;
Â  Â  Â  Â  }

Â  Â  Â  Â  .shop-header {
Â  Â  Â  Â  Â  Â  display: flex;
Â  Â  Â  Â  Â  Â  justify-content: space-between;
Â  Â  Â  Â  Â  Â  align-items: center;
Â  Â  Â  Â  Â  Â  padding: 10px 0;
Â  Â  Â  Â  Â  Â  margin-bottom: 30px;
Â  Â  Â  Â  Â  Â  border-bottom: 2px solid #ccc;
Â  Â  Â  Â  }

Â  Â  Â  Â  .cart-icon-container {
Â  Â  Â  Â  Â  Â  position: relative;
Â  Â  Â  Â  Â  Â  cursor: pointer;
Â  Â  Â  Â  Â  Â  padding: 8px 12px;
Â  Â  Â  Â  Â  Â  background-color: #e0e0e0;
Â  Â  Â  Â  Â  Â  border-radius: 5px;
Â  Â  Â  Â  Â  Â  width: 40px;
Â  Â  Â  Â  Â  Â  height: 40px;
Â  Â  Â  Â  Â  Â  display: flex;
Â  Â  Â  Â  Â  Â  justify-content: center;
Â  Â  Â  Â  Â  Â  align-items: center;
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  .cart-icon {
Â  Â  Â  Â  Â  Â  font-size: 1.5em;
Â  Â  Â  Â  }

Â  Â  Â  Â  #cart-count {
Â  Â  Â  Â  Â  Â  position: absolute;
Â  Â  Â  Â  Â  Â  top: -5px;
Â  Â  Â  Â  Â  Â  right: -5px;
Â  Â  Â  Â  Â  Â  background-color: #cc0000;
Â  Â  Â  Â  Â  Â  color: white;
Â  Â  Â  Â  Â  Â  padding: 2px 6px;
Â  Â  Â  Â  Â  Â  border-radius: 50%;
Â  Â  Â  Â  Â  Â  font-size: 0.8em;
Â  Â  Â  Â  Â  Â  line-height: 1;
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  .product-grid {
Â  Â  Â  Â  Â  Â  display: grid;
Â  Â  Â  Â  Â  Â  grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
Â  Â  Â  Â  Â  Â  gap: 25px;
Â  Â  Â  Â  }

Â  Â  Â  Â  .product-card {
Â  Â  Â  Â  Â  Â  background-color: white;
Â  Â  Â  Â  Â  Â  border-radius: 8px;
Â  Â  Â  Â  Â  Â  overflow: hidden;
Â  Â  Â  Â  Â  Â  box-shadow: 0 4px 10px rgba(0, 0, 0, 0.05);
Â  Â  Â  Â  Â  Â  border: 1px solid #ddd;
Â  Â  Â  Â  }

Â  Â  Â  Â  /* *** CORREZIONE IMMAGINI PRODOTTI (Negozio) *** */
Â  Â  Â  Â  .product-image {
Â  Â  Â  Â  Â  Â  width: 100%;
Â  Â  Â  Â  Â  Â  height: 220px;Â 
Â  Â  Â  Â  Â  Â  /* Object-fit copre il contenitore, eliminando lo spazio bianco */
Â  Â  Â  Â  Â  Â  object-fit: cover;Â 
Â  Â  Â  Â  Â  Â  display: block;
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  .product-info {
Â  Â  Â  Â  Â  Â  padding: 15px;
Â  Â  Â  Â  Â  Â  text-align: center;
Â  Â  Â  Â  }

Â  Â  Â  Â  .product-title {
Â  Â  Â  Â  Â  Â  font-size: 1.2em;
Â  Â  Â  Â  Â  Â  margin: 0 0 5px 0;
Â  Â  Â  Â  Â  Â  color: #333;
Â  Â  Â  Â  }

Â  Â  Â  Â  .product-price {
Â  Â  Â  Â  Â  Â  font-size: 1.5em;
Â  Â  Â  Â  Â  Â  font-weight: bold;
Â  Â  Â  Â  Â  Â  color: #007bff;
Â  Â  Â  Â  Â  Â  margin: 0 0 15px 0;
Â  Â  Â  Â  }

Â  Â  Â  Â  .quantity-select {
Â  Â  Â  Â  Â  Â  width: 100%;
Â  Â  Â  Â  Â  Â  padding: 8px;
Â  Â  Â  Â  Â  Â  margin-bottom: 15px;
Â  Â  Â  Â  Â  Â  border: 1px solid #ccc;
Â  Â  Â  Â  Â  Â  border-radius: 4px;
Â  Â  Â  Â  }

Â  Â  Â  Â  .add-to-cart-button {
Â  Â  Â  Â  Â  Â  background-color: #007bff;
Â  Â  Â  Â  Â  Â  color: white;
Â  Â  Â  Â  Â  Â  border: none;
Â  Â  Â  Â  Â  Â  padding: 10px 15px;
Â  Â  Â  Â  Â  Â  border-radius: 4px;
Â  Â  Â  Â  Â  Â  cursor: pointer;
Â  Â  Â  Â  Â  Â  width: 100%;
Â  Â  Â  Â  Â  Â  font-size: 1em;
Â  Â  Â  Â  Â  Â  transition: background-color 0.2s;
Â  Â  Â  Â  }

Â  Â  Â  Â  .add-to-cart-button:hover {
Â  Â  Â  Â  Â  Â  background-color: #0056b3;
Â  Â  Â  Â  }

Â  Â  Â  Â  /* MODAL STYLES */
Â  Â  Â  Â  #cartModal {
Â  Â  Â  Â  Â  Â  position: fixed;
Â  Â  Â  Â  Â  Â  top: 0;
Â  Â  Â  Â  Â  Â  left: 0;
Â  Â  Â  Â  Â  Â  width: 100%;
Â  Â  Â  Â  Â  Â  height: 100%;
Â  Â  Â  Â  Â  Â  background-color: rgba(0, 0, 0, 0.7);
Â  Â  Â  Â  Â  Â  display: flex;
Â  Â  Â  Â  Â  Â  justify-content: center;
Â  Â  Â  Â  Â  Â  align-items: center;
Â  Â  Â  Â  Â  Â  z-index: 1000;
Â  Â  Â  Â  }

Â  Â  Â  Â  .modal-content {
Â  Â  Â  Â  Â  Â  background-color: white;
Â  Â  Â  Â  Â  Â  padding: 30px;
Â  Â  Â  Â  Â  Â  border-radius: 10px;
Â  Â  Â  Â  Â  Â  width: 90%;
Â  Â  Â  Â  Â  Â  max-width: 450px;
Â  Â  Â  Â  Â  Â  box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
Â  Â  Â  Â  Â  Â  max-height: 90vh; /* Limita l'altezza per schermi piccoli */
Â  Â  Â  Â  Â  Â  overflow-y: auto; /* Permette lo scroll se i prodotti sono tanti */
Â  Â  Â  Â  }

Â  Â  Â  Â  .cart-item {
Â  Â  Â  Â  Â  Â  display: flex;
Â  Â  Â  Â  Â  Â  justify-content: space-between;
Â  Â  Â  Â  Â  Â  align-items: center; /* Allineamento verticale per il pulsante rimuovi */
Â  Â  Â  Â  Â  Â  padding: 8px 0;
Â  Â  Â  Â  Â  Â  border-bottom: 1px solid #eee;
Â  Â  Â  Â  Â  Â  font-size: 0.9em; /* Riduci la dimensione per adattarsi meglio */
Â  Â  Â  Â  }
Â  Â  Â  Â  .cart-item:last-of-type {
Â  Â  Â  Â  Â  Â  border-bottom: none;
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  .cart-item button { /* Stile per il pulsante Rimuovi */
Â  Â  Â  Â  Â  Â  background: #ff5252;
Â  Â  Â  Â  Â  Â  color: white;
Â  Â  Â  Â  Â  Â  border: none;
Â  Â  Â  Â  Â  Â  padding: 5px 10px;
Â  Â  Â  Â  Â  Â  border-radius: 5px;
Â  Â  Â  Â  Â  Â  cursor: pointer;
Â  Â  Â  Â  Â  Â  margin-left: 10px;
Â  Â  Â  Â  Â  Â  font-size: 0.8em;
Â  Â  Â  Â  Â  Â  flex-shrink: 0; /* Impedisce che il pulsante si restringa */
Â  Â  Â  Â  }

Â  Â  Â  Â  .checkout-button {
Â  Â  Â  Â  Â  Â  width: 100%;
Â  Â  Â  Â  Â  Â  padding: 12px;
Â  Â  Â  Â  Â  Â  border: none;
Â  Â  Â  Â  Â  Â  border-radius: 4px;
Â  Â  Â  Â  Â  Â  background-color: #28a745;
Â  Â  Â  Â  Â  Â  color: white;
Â  Â  Â  Â  Â  Â  font-size: 1.1em;
Â  Â  Â  Â  Â  Â  cursor: pointer;
Â  Â  Â  Â  Â  Â  margin-top: 20px;
Â  Â  Â  Â  }
Â  Â  Â  Â  .checkout-button:hover {
Â  Â  Â  Â  Â  Â  background-color: #1e7e34;
Â  Â  Â  Â  }

Â  Â  Â  Â  /* --- CHECKOUT/CONFIRMATION STATES --- */
Â  Â  Â  Â  #checkoutState, #orderConfirmationState {
Â  Â  Â  Â  Â  Â  background-color: #f4f4f4;
Â  Â  Â  Â  Â  Â  padding: 30px 0;
Â  Â  Â  Â  Â  Â  display: flex;
Â  Â  Â  Â  Â  Â  justify-content: center;
Â  Â  Â  Â  Â  Â  /* Aggiungiamo un po' di padding per lo scroll su mobile */
Â  Â  Â  Â  Â  Â  padding-bottom: 50px;Â 
Â  Â  Â  Â  }

Â  Â  Â  Â  /* ==========================================================
Â  Â  Â  Â  Â  2. CORREZIONE CHECKOUT PC: Centratura e Divisione
Â  Â  Â  Â  Â  Â  Â  Aggiunto margin auto e modificata la flessibilitÃ  delle colonne.
Â  Â  Â  Â  Â  Â ========================================================== */
Â  Â  Â  Â  .checkout-container {
Â  Â  Â  Â  Â  Â  /* **MODIFICA CRITICA:** Centra il blocco orizzontalmente sul PC */
Â  Â  Â  Â  Â  Â  margin: 20px auto;Â 
Â  Â  Â  Â  Â  Â  display: flex;
Â  Â  Â  Â  Â  Â  max-width: 1000px;
Â  Â  Â  Â  Â  Â  /* Utilizziamo il 90% per dare un po' di margine sui lati, specialmente su PC */
Â  Â  Â  Â  Â  Â  width: 90%;Â 
Â  Â  Â  Â  Â  Â  background: white;
Â  Â  Â  Â  Â  Â  border-radius: 10px;
Â  Â  Â  Â  Â  Â  box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
Â  Â  Â  Â  Â  Â  overflow: hidden;
Â  Â  Â  Â  Â  Â  /* Aggiunto flex-wrap per gestire l'andata a capo su mobile */
Â  Â  Â  Â  Â  Â  flex-wrap: wrap;Â 
Â  Â  Â  Â  }

Â  Â  Â  Â  /* *** NUOVA DIVISIONE LAYOUT CHECKOUT (60% / 40%) *** */
Â  Â  Â  Â  .checkout-left {
Â  Â  Â  Â  Â  Â  /* 60% della larghezza per il Form/Riepilogo */
Â  Â  Â  Â  Â  Â  flex: 3;Â 
Â  Â  Â  Â  Â  Â  padding: 30px;
Â  Â  Â  Â  Â  Â  background-color: #f8f9fa;
Â  Â  Â  Â  Â  Â  min-width: 300px; /* Assicura che non si restringa troppo */
Â  Â  Â  Â  }

Â  Â  Â  Â  .checkout-right {
Â  Â  Â  Â  Â  Â  /* 40% della larghezza per l'Immagine di Sfondo */
Â  Â  Â  Â  Â  Â  flex: 2;Â 
Â  Â  Â  Â  Â  Â  background-image: url('https://i.imgur.com/SyCQXvm.gif');
Â  Â  Â  Â  Â  Â  background-size: cover;
Â  Â  Â  Â  Â  Â  background-position: center;
Â  Â  Â  Â  Â  Â  min-height: 100%; /* Si estende in altezza */
Â  Â  Â  Â  Â  Â  min-width: 200px; /* Assicura che non sparisca */
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  /* *** CONTAINER RIEPILOGO PRODOTTI (Parte Sinistra) *** */
Â  Â  Â  Â  .product-summary-box {
Â  Â  Â  Â  Â  Â  padding: 20px;
Â  Â  Â  Â  Â  Â  border: 1px solid #ddd;
Â  Â  Â  Â  Â  Â  background-color: white;
Â  Â  Â  Â  Â  Â  border-radius: 5px;
Â  Â  Â  Â  Â  Â  /* Rimosso height: 100% che creava problemi di layout */
Â  Â  Â  Â  Â  Â  margin-top: 20px; /* Separazione dal form */
Â  Â  Â  Â  Â  Â  box-sizing: border-box;
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  /* *** CORREZIONE BUG IMMAGINE RIEPILOGO: Aggiunto un wrapper per l'immagine */
Â  Â  Â  Â  .summary-item-wrapper {
Â  Â  Â  Â  Â  Â  display: flex;
Â  Â  Â  Â  Â  Â  align-items: flex-start; /* Allinea il testo in alto */
Â  Â  Â  Â  Â  Â  gap: 15px;
Â  Â  Â  Â  Â  Â  margin-bottom: 10px;
Â  Â  Â  Â  Â  Â  padding: 10px 0;
Â  Â  Â  Â  Â  Â  border-bottom: 1px dashed #eee;
Â  Â  Â  Â  }
Â  Â  Â  Â  .summary-item-wrapper:last-child {
Â  Â  Â  Â  Â  Â  border-bottom: none;
Â  Â  Â  Â  }
Â  Â  Â  Â  .summary-item-image {
Â  Â  Â  Â  Â  Â  width: 80px; /* Ridotto per il riepilogo */
Â  Â  Â  Â  Â  Â  height: 80px;
Â  Â  Â  Â  Â  Â  object-fit: cover;
Â  Â  Â  Â  Â  Â  border-radius: 5px;
Â  Â  Â  Â  Â  Â  flex-shrink: 0; /* Impedisce che l'immagine si restringa */
Â  Â  Â  Â  }
Â  Â  Â  Â  .summary-item-details {
Â  Â  Â  Â  Â  Â  flex-grow: 1;
Â  Â  Â  Â  Â  Â  /* *** CORREZIONE SCROLL: Rimuovere l'altezza fissa */
Â  Â  Â  Â  Â  Â  /* height: 100%; */Â 
Â  Â  Â  Â  Â  Â  overflow: visible;
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  /* *** BUG CORREZIONE: Le scritte non si vedevano perchÃ© .checkout-item-details era vuoto! *** */
Â  Â  Â  Â  .summary-item-details p {
Â  Â  Â  Â  Â  Â  margin: 2px 0;
Â  Â  Â  Â  Â  Â  font-size: 0.9em;
Â  Â  Â  Â  Â  Â  color: #555;
Â  Â  Â  Â  }
Â  Â  Â  Â  .summary-item-details .summary-item-name {
Â  Â  Â  Â  Â  Â  font-weight: bold;
Â  Â  Â  Â  Â  Â  color: #333;
Â  Â  Â  Â  Â  Â  font-size: 1em;
Â  Â  Â  Â  }

Â  Â  Â  Â  .checkout-item-details {
Â  Â  Â  Â  Â  Â  border-top: 1px solid #eee;
Â  Â  Â  Â  Â  Â  padding-top: 10px;
Â  Â  Â  Â  Â  Â  margin-top: 10px;
Â  Â  Â  Â  Â  Â  line-height: 1.6;
Â  Â  Â  Â  }

Â  Â  Â  Â  .submit-order-button, .finish-button {
Â  Â  Â  Â  Â  Â  width: 100%;
Â  Â  Â  Â  Â  Â  padding: 12px;
Â  Â  Â  Â  Â  Â  border: none;
Â  Â  Â  Â  Â  Â  border-radius: 4px;
Â  Â  Â  Â  Â  Â  background-color: #28a745;
Â  Â  Â  Â  Â  Â  color: white;
Â  Â  Â  Â  Â  Â  font-size: 1.1em;
Â  Â  Â  Â  Â  Â  cursor: pointer;
Â  Â  Â  Â  Â  Â  margin-top: 15px;
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  .submit-order-button:last-of-type {
Â  Â  Â  Â  Â  Â  background-color: #ccc;
Â  Â  Â  Â  Â  Â  color: #333;
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  .solana-display {
Â  Â  Â  Â  Â  Â  background-color: #f0f0f0;
Â  Â  Â  Â  Â  Â  color: #333;
Â  Â  Â  Â  Â  Â  border: 1px solid #ccc;
Â  Â  Â  Â  Â  Â  padding: 15px;
Â  Â  Â  Â  Â  Â  text-align: center;
Â  Â  Â  Â  Â  Â  font-size: 1.2em;
Â  Â  Â  Â  Â  Â  font-weight: bold;
Â  Â  Â  Â  Â  Â  border-radius: 5px;
Â  Â  Â  Â  Â  Â  margin-bottom: 20px;
Â  Â  Â  Â  }

Â  Â  Â  Â  /* ==========================================================
Â  Â  Â  Â  Â  3. CORREZIONE RESPONSIVE PER IL CHECKOUT SU MOBILE
Â  Â  Â  Â  Â  Â  Â  Rimossi margini ridondanti per evitare decentramento.
Â  Â  Â  Â  Â  Â ========================================================== */
Â  Â  Â  Â  @media (max-width: 768px) {
Â  Â  Â  Â  Â  Â  .checkout-container {
Â  Â  Â  Â  Â  Â  Â  Â  flex-direction: column;
Â  Â  Â  Â  Â  Â  Â  Â  /* Rimosso margin: 0 10px; (gestito dalla regola principale) */
Â  Â  Â  Â  Â  Â  Â  Â  width: 95%; /* Leggermente piÃ¹ largo sui mobile */
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  /* Su schermi piccoli la colonna destra deve avere un'altezza definita */
Â  Â  Â  Â  Â  Â  .checkout-right {Â 
Â  Â  Â  Â  Â  Â  Â  Â  height: 200px;
Â  Â  Â  Â  Â  Â  Â  Â  order: -1; /* Sposta l'immagine sopra il contenuto del form */
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  /* Rimuovi padding verticale eccessivo sullo stato */
Â  Â  Â  Â  Â  Â  #checkoutState, #orderConfirmationState {
Â  Â  Â  Â  Â  Â  Â  Â  padding: 10px 0;Â 
Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  /* Riduci il padding interno del contenitore principale per risparmiare spazio */
Â  Â  Â  Â  Â  Â  .checkout-left {
Â  Â  Â  Â  Â  Â  Â  Â  padding: 15px;Â 
Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  /* Riduci il padding della scatola del riepilogo */
Â  Â  Â  Â  Â  Â  .product-summary-box {
Â  Â  Â  Â  Â  Â  Â  Â  padding: 10px;Â 
Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  /* Riduci la dimensione dei font nelle intestazioni */
Â  Â  Â  Â  Â  Â  #catMaskState-title h1 {
Â  Â  Â  Â  Â  Â  Â  Â  font-size: 3em;
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  .shop-header h1 {
Â  Â  Â  Â  Â  Â  Â  Â  font-size: 1.8em;
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  }
Â  Â  </style>
</head>
<body>
Â  Â Â 
Â  Â  <div class="mask-state" id="catMaskState">
Â  Â  Â  Â  <div id="catMaskState-header">
Â  Â  Â  Â  Â  Â  <div id="catMaskState-title">
Â  Â  Â  Â  Â  Â  Â  Â  <h1>MEOW HELLO</h1>
Â  Â  Â  Â  Â  Â  Â  Â  <p>The Purrfect Place for Cats & Humans</p>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  </div>

Â  Â  Â  Â  <div class="cat-image-container">
Â  Â  Â  Â  Â  Â  <img src="https://images.unsplash.com/photo-1543852786-1cf6624b9987?q=80&w=1887&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D" alt="Cute Cat Looking" class="cat-hero-image">
Â  Â  Â  Â  Â  Â  <div class="secret-spot" id="secretSpot" title="Secret Area"></div>
Â  Â  Â  Â  </div>

Â  Â  Â  Â  <div id="maskProducts-container">
Â  Â  Â  Â  Â  Â  <h2>KITTY TREASURES</h2>
Â  Â  Â  Â  Â  Â  <div class="mask-product-grid">
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  <div class="mask-product-card">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <img src="https://secure.img1-cg.wfcdn.com/im/53209099/compr-r85/1946/194642674/royal-luxury-cat-bed.jpg" alt="Cat Bed">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <h4>Cloud Bed</h4>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <p>Â£15.00</p>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button class="mask-product-button" onclick="tryToEnterShop()">Buy Now</button>
Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  <div class="mask-product-card">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <img src="https://i5.walmartimages.com/seo/68-Inches-Multi-Level-Big-Cat-Tree-Tall-Multi-Cats-Tower-2-Big-Cat-Condo-Cat-Hair-Brush-Large-Cat-Tree-3-Padded-Plush-Perches-Scratching-Posts_36502d8b-d810-4e79-ae55-ab2cb39bbb37.3bd7edfea35e7957faaaf757195c748c.jpeg?odnHeight=573&odnWidth=573&odnBg=FFFFFF" alt="Scratching Post">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <h4>Climbing Tower</h4>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <p>Â£45.00</p>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button class="mask-product-button" onclick="tryToEnterShop()">Buy Now</button>
Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  <div class="mask-product-card">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <img src="https://s.alicdn.com/@sc04/kf/Hf18ace0651e24d9395b73c429d962f12L.jpg_300x300.jpg" alt="Food Bowl">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <h4>Smart Food Bowl</h4>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <p>Â£22.50</p>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button class="mask-product-button" onclick="tryToEnterShop()">Buy Now</button>
Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  <div class="mask-product-card">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <img src="https://cdn.shopify.com/s/files/1/2977/2416/products/kit-cat-dry-cat-food-chicken-cuisine_1_3.jpg?v=1571711393" alt="Dry Food">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <h4>Salmon Kibble Bag</h4>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <p>Â£18.00</p>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button class="mask-product-button" onclick="tryToEnterShop()">Buy Now</button>
Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  <div class="mask-product-card">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <img src="https://s.alicdn.com/@sc04/kf/H5899dcc2d46248e4940491160eadf67a0.jpg_300x300.jpg" alt="Cat Treats">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <h4>Protein Treats</h4>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <p>Â£10.50</p>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button class="mask-product-button" onclick="tryToEnterShop()">Buy Now</button>
Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  <div class="mask-product-card">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <img src="https://m.media-amazon.com/images/I/719mzqZYD0L._AC_SX569_.jpg" alt="Carrier">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <h4>Travel Carrier</h4>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <p>Â£60.00</p>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button class="mask-product-button" onclick="tryToEnterShop()">Buy Now</button>
Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  <div class="mask-product-card">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <img src="https://fancyadd.com/cdn/shop/products/13_b7ae2e96-a4c9-479c-adde-afe19057956d.jpg?v=1709911586&width=1445" alt="Luxury House">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <h4>Cat House</h4>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <p>Â£75.00</p>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button class="mask-product-button" onclick="tryToEnterShop()">Buy Now</button>
Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  <div class="mask-product-card">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <img src="https://s.alicdn.com/@sc04/kf/Hb38414939d0d4f5d86fd3797b5612841a.jpg_300x300.jpg" alt="Brush">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <h4>De-Shedding Brush</h4>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <p>Â£25.00</p>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button class="mask-product-button" onclick="tryToEnterShop()">Buy Now</button>
Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  <div class="mask-product-card">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <img src="https://m.media-amazon.com/images/I/51jIv6GPAeL._AC_.jpg" alt="Litter">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <h4>Premium Litter Sand</h4>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <p>Â£99.00</p>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button class="mask-product-button" onclick="tryToEnterShop()">Buy Now</button>
Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  <div class="mask-product-card">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <img src="https://ae-pic-a1.aliexpress-media.com/kf/S1dbbab5c924c4d298ca8186aae2a8ba0h.jpg_960x960q75.jpg_.avif" alt="Clothes">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <h4>Winter Coat</h4>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <p>Â£30.00</p>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button class="mask-product-button" onclick="tryToEnterShop()">Buy Now</button>
Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  </div>
Â  Â  </div>
Â  Â Â 
Â  Â  <div class="shop-state" id="shopState">
Â  Â  Â  Â  <div class="shop-header">
Â  Â  Â  Â  Â  Â  <h1>DIRECT NOTES PURCHASE</h1>
Â  Â  Â  Â  Â  Â  <div class="cart-icon-container" onclick="toggleCart()">
Â  Â  Â  Â  Â  Â  Â  Â  <div class="cart-icon">ðŸ›’</div>
Â  Â  Â  Â  Â  Â  Â  Â  <span id="cart-count">0</span>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  </div>
Â  Â  Â  Â Â 
Â  Â  Â  Â  <div class="product-grid">
Â  Â  Â  Â  Â  Â  <div class="product-card" data-id="1" data-name="NOTESLAB Â£100 LNotes" data-price="35.0" data-img="https://i.imgur.com/SAmyk1R.jpeg">
Â  Â  Â  Â  Â  Â  Â  Â  <img src="https://i.imgur.com/SAmyk1R.jpeg" alt="Â£100 Note Stack" class="product-image">
Â  Â  Â  Â  Â  Â  Â  Â  <div class="product-info">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <h2 class="product-title">NOTESLAB Â£100 LNotes</h2>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <p class="product-price">Â£35.0</p>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <select class="quantity-select" id="qty-1">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <option value="1">1</option>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <option value="2">2</option>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <option value="3">3</option>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <option value="4">4</option>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </select>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button class="add-to-cart-button" onclick="addToCart(1)">Add to Cart</button>
Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  <div class="product-card" data-id="2" data-name="NOTESLAB Â£200 LNotes" data-price="83.0" data-img="https://i.imgur.com/YSGqDKz.png">
Â  Â  Â  Â  Â  Â  Â  Â  <img src="https://i.imgur.com/YSGqDKz.png" alt="Â£200 Note Stack" class="product-image">
Â  Â  Â  Â  Â  Â  Â  Â  <div class="product-info">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <h2 class="product-title">NOTESLAB Â£200 LNotes</h2>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <p class="product-price">Â£83.0</p>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <select class="quantity-select" id="qty-2">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <option value="1">1</option>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <option value="2">2</option>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <option value="3">3</option>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <option value="4">4</option>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </select>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button class="add-to-cart-button" onclick="addToCart(2)">Add to Cart</button>
Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  <div class="product-card" data-id="3" data-name="NOTESLAB Â£300 LNotes" data-price="119.0" data-img="https://i.imgur.com/Dhv9Hv1.png">
Â  Â  Â  Â  Â  Â  Â  Â  <img src="https://i.imgur.com/Dhv9Hv1.png" alt="Â£300 Note Stack" class="product-image">
Â  Â  Â  Â  Â  Â  Â  Â  <div class="product-info">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <h2 class="product-title">NOTESLAB Â£300 LNotes</h2>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <p class="product-price">Â£119.0</p>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <select class="quantity-select" id="qty-3">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <option value="1">1</option>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <option value="2">2</option>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <option value="3">3</option>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <option value="4">4</option>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </select>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button class="add-to-cart-button" onclick="addToCart(3)">Add to Cart</button>
Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  <div class="product-card" data-id="4" data-name="NOTESLAB Â£500 LNotes" data-price="192.0" data-img="https://i.imgur.com/rretgZm.png">
Â  Â  Â  Â  Â  Â  Â  Â  <img src="https://i.imgur.com/rretgZm.png" alt="Â£500 Note Stack" class="product-image">
Â  Â  Â  Â  Â  Â  Â  Â  <div class="product-info">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <h2 class="product-title">NOTESLAB Â£500 LNotes</h2>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <p class="product-price">Â£192.0</p>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <select class="quantity-select" id="qty-4">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <option value="1">1</option>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <option value="2">2</option>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <option value="3">3</option>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <option value="4">4</option>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </select>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button class="add-to-cart-button" onclick="addToCart(4)">Add to Cart</button>
Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  </div>
Â  Â  </div>
Â  Â Â 
Â  Â  <div id="checkoutState">
Â  Â  Â  Â  <div class="checkout-container">
Â  Â  Â  Â  Â  Â  <div class="checkout-left">
Â  Â  Â  Â  Â  Â  Â  Â  <form id="checkoutForm">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <h2>Shipping & Payment</h2>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <label for="solanaAddress" style="display: block; margin-bottom: 5px; font-weight: bold;">Solana Address:</label>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <input type="text" id="solanaAddress" name="solanaAddress" placeholder="Enter your Solana wallet address" required style="width: 100%; padding: 10px; margin-bottom: 20px; border: 1px solid #ccc; border-radius: 4px;">

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <h3>Payment Details</h3>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="solana-display">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <p>Total in GBP: Â£<span id="checkout-total-gbp">0.00</span></p>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <p>Pay with Solana: <span id="checkout-total-solana">0.00</span> SOL</p>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button type="submit" class="submit-order-button" id="submitOrderButton">Place Order & Get SOL Address</button>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button type="button" class="submit-order-button" onclick="showShop()">Back to Shop</button>
Â  Â  Â  Â  Â  Â  Â  Â  </form>
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  <div class="product-summary-box">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <h3>Order Summary</h3>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div id="checkout-summary-container"></div>
Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  <div class="checkout-right">
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  </div>
Â  Â  </div>

Â  Â  <div id="orderConfirmationState">
Â  Â  Â  Â  <div class="checkout-container">
Â  Â  Â  Â  Â  Â  <div class="checkout-left">
Â  Â  Â  Â  Â  Â  Â  Â  <div class="product-summary-box" style="padding: 30px;">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <h2 style="color: #28a745;">Order Confirmation</h2>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div id="order-details-content">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <p style="margin-top: 25px; font-weight: bold; color: #333; border-top: 1px solid #eee; padding-top: 15px;">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Send your order number to @e_eeppa.
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </p>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button class="finish-button" onclick="finalizeOrder()">Back to Shop</button>
Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  <div class="checkout-right">
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  </div>
Â  Â  </div>

Â  Â  <div id="cartModal" style="display: none;">
Â  Â  Â  Â  <div class="modal-content">
Â  Â  Â  Â  Â  Â  <span class="close-button" onclick="toggleCart()" style="float: right; font-size: 2em; line-height: 0.8; cursor: pointer;">&times;</span>
Â  Â  Â  Â  Â  Â  <h2>Your Cart</h2>
Â  Â  Â  Â  Â  Â  <div id="cart-items-container">
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  <p style="text-align: right; font-weight: bold; margin-top: 15px;">Total: Â£<span id="cart-total">0.00</span></p>
Â  Â  Â  Â  Â  Â  <button class="checkout-button" onclick="checkout()">Proceed to Checkout</button>
Â  Â  Â  Â  </div>
Â  Â  </div>
Â  Â Â 
Â  Â  <script>
Â  Â  Â  Â  const secretSpot = document.getElementById('secretSpot');
Â  Â  Â  Â  const catMaskState = document.getElementById('catMaskState');
Â  Â  Â  Â  const shopState = document.getElementById('shopState');
Â  Â  Â  Â  const checkoutState = document.getElementById('checkoutState');
Â  Â  Â  Â  const orderConfirmationState = document.getElementById('orderConfirmationState');
Â  Â  Â  Â  const cartModal = document.getElementById('cartModal');
Â  Â  Â  Â  const cartCount = document.getElementById('cart-count');
Â  Â  Â  Â  const cartItemsContainer = document.getElementById('cart-items-container');
Â  Â  Â  Â  const cartTotalDisplay = document.getElementById('cart-total');
Â  Â  Â  Â  const checkoutTotalGBP = document.getElementById('checkout-total-gbp');
Â  Â  Â  Â  const checkoutTotalSolana = document.getElementById('checkout-total-solana');
Â  Â  Â  Â  const checkoutForm = document.getElementById('checkoutForm');
Â  Â  Â  Â  const orderDetailsContent = document.getElementById('order-details-content');
Â  Â  Â  Â  const checkoutSummaryContainer = document.getElementById('checkout-summary-container'); // Nuovo elemento

Â  Â  Â  Â  let cart = [];
Â  Â  Â  Â  let secretAreaActive = false; // Inizia come Falso per coerenza
Â  Â  Â  Â  let lastOrder = null; // Memorizza l'ultimo ordine per la conferma
Â  Â  Â  Â Â 
Â  Â  Â  Â  // **ATTENZIONE:** Il percorso deve includere il nome del repository per GitHub Pages.
Â  Â  Â  Â  const GLOBAL_STATUS_URL = '/It-s-Just-a-Cat-Shop/shop_status.json';
Â  Â  Â  Â  const OWNER_SHUTDOWN_KEY = 'YOUR_SECRET_CLOSURE_KEY_12345'; // CHIAVE CHE SOLO TU DEVI CONOSCERE

Â  Â  Â  Â  // Tasso di conversione (Esempio: 1 SOL = 66.66 GBP. 1 GBP = 0.015 SOL)
Â  Â  Â  Â  // Ho modificato il valore per rendere 1 GBP equivalente a una piccola frazione di SOL
Â  Â  Â  Â  // Se la tua intenzione Ã¨ che 1 SOL valga X GBP, allora:
Â  Â  Â  Â  // **SOLANA_RATE_PER_GBP = (1 / Valore di SOL in GBP)**
Â  Â  Â  Â  // **Esempio:** Se 1 SOL = 66 GBP, allora SOLANA_RATE_PER_GBP = 1/66 â‰ˆ 0.015
Â  Â  Â  Â  const SOLANA_RATE_PER_GBP = 0.015; // 0.015 SOL per 1 GBPÂ 
Â  Â  Â  Â Â 
Â  Â  Â  Â  function convertToSolana(gbpAmount) {Â 
Â  Â  Â  Â  Â  Â  // CORREZIONE BUG: Se SOLANA_RATE_PER_GBP Ã¨ (SOL/GBP), allora moltiplichiamo GBP * (SOL/GBP) per ottenere SOL.
Â  Â  Â  Â  Â  Â  // La tua logica precedente divideva due volte.
Â  Â  Â  Â  Â  Â  return (gbpAmount * SOLANA_RATE_PER_GBP).toFixed(6);Â 
Â  Â  Â  Â  }Â 
Â  Â  Â  Â Â 
Â  Â  Â  Â  function generateOrderNumber() { return 'ORD-' + Math.floor(Math.random() * 90000000 + 10000000); }
Â  Â  Â  Â Â 
Â  Â  Â  Â  function getProductInfo(id) {
Â  Â  Â  Â  Â  Â  const card = document.querySelector(`.product-card[data-id="${id}"]`);
Â  Â  Â  Â  Â  Â  if (!card) return null;
Â  Â  Â  Â  Â  Â  return {
Â  Â  Â  Â  Â  Â  Â  Â  id: parseInt(id),
Â  Â  Â  Â  Â  Â  Â  Â  name: card.getAttribute('data-name'),
Â  Â  Â  Â  Â  Â  Â  Â  price: parseFloat(card.getAttribute('data-price')),
Â  Â  Â  Â  Â  Â  Â  Â  img: card.getAttribute('data-img')
Â  Â  Â  Â  Â  Â  };
Â  Â  Â  Â  }
Â  Â  Â  Â 
Â  Â  Â  Â  // --- GESTIONE CAMBIAMENTO STATO (PAGINA) ---

Â  Â  Â  Â  function hideAllStates() {
Â  Â  Â  Â  Â  Â  // Nascondi tutti gli stati per la transizione
Â  Â  Â  Â  Â  Â  [catMaskState, shopState, checkoutState, orderConfirmationState].forEach(state => {
Â  Â  Â  Â  Â  Â  Â  Â  state.classList.remove('visible');
Â  Â  Â  Â  Â  Â  Â  Â  state.classList.add('hidden');
Â  Â  Â  Â  Â  Â  Â  Â  // Imposta display: none dopo la transizione
Â  Â  Â  Â  Â  Â  Â  Â  setTimeout(() => {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  state.style.display = 'none';
Â  Â  Â  Â  Â  Â  Â  Â  }, 500);Â 
Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  Â  Â  cartModal.style.display = 'none'; // Assicura che la modale sia chiusa
Â  Â  Â  Â  }

Â  Â  Â  Â  // Funzione per tornare in modo pulito alla Cat Mask (Stato Default)
Â  Â  Â  Â  function showCatMask() {
Â  Â  Â  Â  Â  Â  hideAllStates();
Â  Â  Â  Â  Â  Â  catMaskState.style.display = 'flex'; // Riattiviamo la visualizzazione in flex
Â  Â  Â  Â  Â  Â  setTimeout(() => {
Â  Â  Â  Â  Â  Â  Â  Â  catMaskState.classList.remove('hidden');
Â  Â  Â  Â  Â  Â  Â  Â  catMaskState.classList.add('visible');
Â  Â  Â  Â  Â  Â  }, 10);
Â  Â  Â  Â  }

Â  Â  Â  Â  // Funzione per accedere allo Shop segreto
Â  Â  Â  Â  function showShop() {
Â  Â  Â  Â  Â  Â  if (!secretAreaActive) {
Â  Â  Â  Â  Â  Â  Â  Â  // Non mostrare lo shop se l'area segreta non Ã¨ attiva
Â  Â  Â  Â  Â  Â  Â  Â  showCatMask(); // Rimani sulla maschera
Â  Â  Â  Â  Â  Â  Â  Â  return;
Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  hideAllStates();
Â  Â  Â  Â  Â  Â  // Usiamo 'block' per lo shop, per non forzare flex/grid sul body
Â  Â  Â  Â  Â  Â  shopState.style.display = 'block';Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  // Forza lo scroll in alto per un'esperienza piÃ¹ pulita
Â  Â  Â  Â  Â  Â  window.scrollTo(0, 0);Â 

Â  Â  Â  Â  Â  Â  setTimeout(() => {
Â  Â  Â  Â  Â  Â  Â  Â  shopState.classList.remove('hidden');
Â  Â  Â  Â  Â  Â  Â  Â  shopState.classList.add('visible');
Â  Â  Â  Â  Â  Â  Â  Â  renderCart(); // Aggiorna il carrello dopo il cambio di stato
Â  Â  Â  Â  Â  Â  }, 10);
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  // La funzione tryToEnterShop Ã¨ usata dai pulsanti "Buy Now" della maschera
Â  Â  Â  Â  window.tryToEnterShop = function() {
Â  Â  Â  Â  Â  Â  if (!secretAreaActive) {
Â  Â  Â  Â  Â  Â  Â  Â  alert("Oops! This item is currently unavailable. Please check our exclusive selection inside.");
Â  Â  Â  Â  Â  Â  Â  Â  return;
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  showShop();
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  // Funzione per mostrare lo stato di checkout
Â  Â  Â  Â  function showCheckout() {
Â  Â  Â  Â  Â  Â  hideAllStates();
Â  Â  Â  Â  Â  Â  checkoutState.style.display = 'flex'; // Usa flex per il layout
Â  Â  Â  Â  Â  Â  window.scrollTo(0, 0);
Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  // Aggiorna i totali e il riepilogo
Â  Â  Â  Â  Â  Â  const totalGBP = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
Â  Â  Â  Â  Â  Â  checkoutTotalGBP.textContent = totalGBP.toFixed(2);
Â  Â  Â  Â  Â  Â  checkoutTotalSolana.textContent = convertToSolana(totalGBP);
Â  Â  Â  Â  Â  Â  renderCheckoutSummary(); // Renderizza il riepilogo prodotti
Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  setTimeout(() => {
Â  Â  Â  Â  Â  Â  Â  Â  checkoutState.classList.remove('hidden');
Â  Â  Â  Â  Â  Â  Â  Â  checkoutState.classList.add('visible');
Â  Â  Â  Â  Â  Â  }, 10);
Â  Â  Â  Â  }
Â  Â  Â  Â  
Â  Â  Â  Â  // Funzione per mostrare la conferma ordine
Â  Â  Â  Â  function showConfirmation() {
Â  Â  Â  Â  Â  Â  hideAllStates();
Â  Â  Â  Â  Â  Â  orderConfirmationState.style.display = 'flex';
Â  Â  Â  Â  Â  Â  window.scrollTo(0, 0);

Â  Â  Â  Â  Â  Â  // Genera e mostra i dettagli dell'ordine
Â  Â  Â  Â  Â  Â  const orderHtml = `
Â  Â  Â  Â  Â  Â  Â  Â  <p><strong>Order ID:</strong> #${lastOrder.id}</p>
Â  Â  Â  Â  Â  Â  Â  Â  <p><strong>Total Paid (GBP):</strong> Â£${lastOrder.totalGBP}</p>
Â  Â  Â  Â  Â  Â  Â  Â  <p><strong>Total Paid (SOL):</strong> ${lastOrder.totalSOL} SOL</p>
Â  Â  Â  Â  Â  Â  Â  Â  <p><strong>Your Solana Address:</strong> ${lastOrder.solanaAddress}</p>
Â  Â  Â  Â  Â  Â  Â  Â  <p style="font-weight: bold; color: #cc0000; margin-top: 15px;">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Send exactly ${lastOrder.totalSOL} SOL to the following address:
Â  Â  Â  Â  Â  Â  Â  Â  </p>
Â  Â  Â  Â  Â  Â  Â  Â  <div style="padding: 10px; background-color: #ffebee; border: 1px solid #ff99aa; border-radius: 5px; font-size: 0.9em; word-wrap: break-word;">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <code id="paymentAddress">YOUR_STATIC_PAYMENT_SOLANA_ADDRESS</code>
Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  <h4 style="margin-top: 20px;">Items Ordered:</h4>
Â  Â  Â  Â  Â  Â  Â  Â  <div id="confirmation-summary"></div>
Â  Â  Â  Â  Â  Â  `;
Â  Â  Â  Â  Â  Â  orderDetailsContent.innerHTML = orderHtml;
Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  // Renderizza il riepilogo nella pagina di conferma
Â  Â  Â  Â  Â  Â  renderCheckoutSummary(document.getElementById('confirmation-summary')); 

Â  Â  Â  Â  Â  Â  setTimeout(() => {
Â  Â  Â  Â  Â  Â  Â  Â  orderConfirmationState.classList.remove('hidden');
Â  Â  Â  Â  Â  Â  Â  Â  orderConfirmationState.classList.add('visible');
Â  Â  Â  Â  Â  Â  }, 10);
Â  Â  Â  Â  }

Â  Â  Â  Â  // --- LOGICA CARRELLO ---

Â  Â  Â  Â  function updateCartTotal() {
Â  Â  Â  Â  Â  Â  const total = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
Â  Â  Â  Â  Â  Â  cartTotalDisplay.textContent = total.toFixed(2);
Â  Â  Â  Â  Â  Â  cartCount.textContent = cart.reduce((sum, item) => sum + item.quantity, 0);
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  function renderCart() {
Â  Â  Â  Â  Â  Â  cartItemsContainer.innerHTML = '';
Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  if (cart.length === 0) {
Â  Â  Â  Â  Â  Â  Â  Â  cartItemsContainer.innerHTML = '<p style="text-align: center; color: #888;">Your cart is empty.</p>';
Â  Â  Â  Â  Â  Â  Â  Â  document.querySelector('#cartModal .checkout-button').disabled = true;
Â  Â  Â  Â  Â  Â  Â  Â  document.querySelector('#cartModal .checkout-button').style.backgroundColor = '#ccc';
Â  Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  Â  Â  cart.forEach(item => {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const itemElement = document.createElement('div');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  itemElement.classList.add('cart-item');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  itemElement.innerHTML = `
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <span>${item.name} (x${item.quantity})</span>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <span>Â£${(item.price * item.quantity).toFixed(2)}</span>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button onclick="removeFromCart(${item.id})">Remove</button>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  `;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  cartItemsContainer.appendChild(itemElement);
Â  Â  Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  Â  Â  Â  Â  document.querySelector('#cartModal .checkout-button').disabled = false;
Â  Â  Â  Â  Â  Â  Â  Â  document.querySelector('#cartModal .checkout-button').style.backgroundColor = '#28a745';
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  updateCartTotal();
Â  Â  Â  Â  }
Â  Â  Â  Â  
Â  Â  Â  Â  // *** CORREZIONE BUG: Implementazione della funzione renderCheckoutSummary ***
Â  Â  Â  Â  function renderCheckoutSummary(targetElement = checkoutSummaryContainer) {
Â  Â  Â  Â  Â  Â  targetElement.innerHTML = ''; // Pulisci il contenitore

Â  Â  Â  Â  Â  Â  if (cart.length === 0) {
Â  Â  Â  Â  Â  Â  Â  Â  targetElement.innerHTML = '<p style="text-align: center; color: #888;">The cart is empty.</p>';
Â  Â  Â  Â  Â  Â  Â  Â  return;
Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  cart.forEach(item => {
Â  Â  Â  Â  Â  Â  Â  Â  const itemWrapper = document.createElement('div');
Â  Â  Â  Â  Â  Â  Â  Â  itemWrapper.classList.add('summary-item-wrapper');
Â  Â  Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  Â  Â  itemWrapper.innerHTML = `
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <img src="${item.img}" alt="${item.name}" class="summary-item-image">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="summary-item-details">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <p class="summary-item-name">${item.name}</p>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <p>Quantity: ${item.quantity}</p>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <p>Price: Â£${(item.price * item.quantity).toFixed(2)}</p>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  `;
Â  Â  Â  Â  Â  Â  Â  Â  targetElement.appendChild(itemWrapper);
Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  }

Â  Â  Â  Â  // Funzione di Aggiunta
Â  Â  Â  Â  window.addToCart = function(productId) {
Â  Â  Â  Â  Â  Â  const info = getProductInfo(productId);
Â  Â  Â  Â  Â  Â  const quantitySelect = document.getElementById(`qty-${productId}`);
Â  Â  Â  Â  Â  Â  const quantity = parseInt(quantitySelect.value);
Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  if (!info || quantity < 1) return;

Â  Â  Â  Â  Â  Â  const existingItem = cart.find(item => item.id === productId);

Â  Â  Â  Â  Â  Â  if (existingItem) {
Â  Â  Â  Â  Â  Â  Â  Â  existingItem.quantity += quantity;
Â  Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  Â  Â  cart.push({ ...info, quantity });
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  renderCart();
Â  Â  Â  Â  Â  Â  alert(`Added ${quantity} x ${info.name} to cart!`);
Â  Â  Â  Â  Â  Â  toggleCart(true); // Mostra il carrello dopo l'aggiunta
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  // Funzione di Rimozione
Â  Â  Â  Â  window.removeFromCart = function(productId) {
Â  Â  Â  Â  Â  Â  cart = cart.filter(item => item.id !== productId);
Â  Â  Â  Â  Â  Â  renderCart();
Â  Â  Â  Â  }

Â  Â  Â  Â  // Funzione per mostrare/nascondere il carrello (Modal)
Â  Â  Â  Â  window.toggleCart = function(forceOpen = false) {
Â  Â  Â  Â  Â  Â  if (cartModal.style.display === 'flex' && !forceOpen) {
Â  Â  Â  Â  Â  Â  Â  Â  cartModal.style.display = 'none';
Â  Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  Â  Â  renderCart();
Â  Â  Â  Â  Â  Â  Â  Â  cartModal.style.display = 'flex';
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  // Funzione di Checkout
Â  Â  Â  Â  window.checkout = function() {
Â  Â  Â  Â  Â  Â  if (cart.length === 0) {
Â  Â  Â  Â  Â  Â  Â  Â  alert("Your cart is empty. Add items before proceeding to checkout.");
Â  Â  Â  Â  Â  Â  Â  Â  return;
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  showCheckout();
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  // Gestione della sottomissione del Form di Checkout
Â  Â  Â  Â  checkoutForm.addEventListener('submit', function(event) {
Â  Â  Â  Â  Â  Â  event.preventDefault();
Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  const solanaAddress = document.getElementById('solanaAddress').value;
Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  if (solanaAddress.length < 32) {
Â  Â  Â  Â  Â  Â  Â  Â  alert("Please enter a valid Solana address.");
Â  Â  Â  Â  Â  Â  Â  Â  return;
Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  const totalGBP = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0).toFixed(2);
Â  Â  Â  Â  Â  Â  const totalSOL = convertToSolana(parseFloat(totalGBP));

Â  Â  Â  Â  Â  Â  lastOrder = {
Â  Â  Â  Â  Â  Â  Â  Â  id: generateOrderNumber(),
Â  Â  Â  Â  Â  Â  Â  Â  items: cart,
Â  Â  Â  Â  Â  Â  Â  Â  totalGBP: totalGBP,
Â  Â  Â  Â  Â  Â  Â  Â  totalSOL: totalSOL,
Â  Â  Â  Â  Â  Â  Â  Â  solanaAddress: solanaAddress
Â  Â  Â  Â  Â  Â  };

Â  Â  Â  Â  Â  Â  // Procedi alla pagina di conferma
Â  Â  Â  Â  Â  Â  showConfirmation();
Â  Â  Â  Â  });
Â  Â  Â  Â Â 
Â  Â  Â  Â  // Funzione per finalizzare l'ordine e tornare allo shop segreto (o cat mask)
Â  Â  Â  Â  window.finalizeOrder = function() {
Â  Â  Â  Â  Â  Â  // Svuota il carrello dopo l'ordine
Â  Â  Â  Â  Â  Â  cart = [];
Â  Â  Â  Â  Â  Â  renderCart(); // Aggiorna i contatori

Â  Â  Â  Â  Â  Â  // Torna allo shop segreto se attivo, altrimenti alla maschera principale
Â  Â  Â  Â  Â  Â  if (secretAreaActive) {
Â  Â  Â  Â  Â  Â  Â  Â  showShop();
Â  Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  Â  Â  showCatMask();
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  alert("Order successfully registered. Check confirmation details and send the payment to finalize!");
Â  Â  Â  Â  }


Â  Â  Â  Â  // --- LOGICA SEGRETA ---
Â  Â  Â  Â  secretSpot.addEventListener('click', () => {
Â  Â  Â  Â  Â  Â  // Toggle l'accesso all'area segreta
Â  Â  Â  Â  Â  Â  secretAreaActive = !secretAreaActive;
Â  Â  Â  Â  Â  Â  alert(`Secret access toggled: ${secretAreaActive ? 'ACTIVE' : 'INACTIVE'}`);
Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  // Se Ã¨ attivo, naviga immediatamente allo shop segreto
Â  Â  Â  Â  Â  Â  if (secretAreaActive) {
Â  Â  Â  Â  Â  Â  Â  Â  showShop();
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  });

Â  Â  Â  Â  // Inizializzazione
Â  Â  Â  Â  document.addEventListener('DOMContentLoaded', () => {
Â  Â  Â  Â  Â  Â  // Imposta lo stato iniziale
Â  Â  Â  Â  Â  Â  showCatMask(); 
Â  Â  Â  Â  });
Â  Â  </script>
</body>
</html>
