<!DOCTYPE html>
<html lang="en">
<head>
Â  Â  <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
Â  Â  <meta http-equiv="Pragma" content="no-cache">
Â  Â  <meta http-equiv="Expires" content="0">
Â  Â  <meta charset="UTF-8">
Â  Â  <meta name="viewport" content="width=device-width, initial-scale=1.0">Â 
Â  Â  <title>MEOW HELLO - The Purrfect Place</title>
Â  Â  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;700&family=Chewy&display=swap" rel="stylesheet">
Â  Â Â 
Â  Â  <style>
Â  Â  Â  Â  /* ==========================================================
Â  Â  Â  Â  Â  1. CORREZIONE GLOBALE SCORRIMENTO PC
Â  Â  Â  Â  Â  Â  Â  Rimosso overflow-x superfluo sul body e min-height/overflow
Â  Â  Â  Â  Â  Â  Â  sugli stati interni.
Â  Â  Â  Â  Â  Â ========================================================== */
Â  Â  Â  Â  html {
Â  Â  Â  Â  Â  Â  /* Assicura che l'elemento principale prenda tutta l'altezza */
Â  Â  Â  Â  Â  Â  height: 100%;Â 
Â  Â  Â  Â  Â  Â  /* Impedisce lo scorrimento orizzontale superfluo */
Â  Â  Â  Â  Â  Â  overflow-x: hidden;Â 
Â  Â  Â  Â  Â  Â  /* Permette lo scorrimento verticale naturale del documento */
Â  Â  Â  Â  Â  Â  overflow-y: auto;
Â  Â  Â  Â  }

Â  Â  Â  Â  body {
Â  Â  Â  Â  Â  Â  font-family: 'Poppins', sans-serif;
Â  Â  Â  Â  Â  Â  margin: 0;
Â  Â  Â  Â  Â  Â  transition: background-color 0.3s ease;
Â  Â  Â  Â  Â  Â  /* Garantisce che l'altezza minima sia l'altezza della finestra visibile (viewport) */
Â  Â  Â  Â  Â  Â  min-height: 100vh;Â 
Â  Â  Â  Â  Â  Â  /* Rimosso overflow-x: hidden dal body per evitare conflitti */
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  /* Assicuriamo che gli stati coprano il 100% dell'altezza minima definita nel body */
Â  Â  Â  Â  #catMaskState, #shopState, #checkoutState, #orderConfirmationState {
Â  Â  Â  Â  Â  Â  width: 100%;
Â  Â  Â  Â  Â  Â  min-height: 100%; /* Si adatta all'altezza minima del body */
Â  Â  Â  Â  Â  Â  opacity: 0;
Â  Â  Â  Â  Â  Â  transition: opacity 0.5s ease-in-out;
Â  Â  Â  Â  Â  Â  display: none;
Â  Â  Â  Â  Â  Â  box-sizing: border-box;
Â  Â  Â  Â  Â  Â  z-index: 1;
Â  Â  Â  Â  Â  Â  /* **ATTENZIONE:** Rimosso min-height: 100vh e overflow-y: auto da qui,
Â  Â  Â  Â  Â  Â  Â  Â  perchÃ© lo scorrimento deve essere gestito dal body/html */
Â  Â  Â  Â  }

Â  Â  Â  Â  #catMaskState {
Â  Â  Â  Â  Â  Â  display: flex;
Â  Â  Â  Â  Â  Â  opacity: 1;
Â  Â  Â  Â  Â  Â  background-color: #e0f7fa;
Â  Â  Â  Â  Â  Â  color: #333;
Â  Â  Â  Â  Â  Â  flex-direction: column;
Â  Â  Â  Â  Â  Â  justify-content: flex-start;
Â  Â  Â  Â  Â  Â  align-items: center;
Â  Â  Â  Â  Â  Â  padding: 20px 20px 50px 20px;
Â  Â  Â  Â  Â  Â  z-index: 2;
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  .visible {
Â  Â  Â  Â  Â  Â  opacity: 1 !important;
Â  Â  Â  Â  Â  Â  display: block !important;Â 
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  #catMaskState.visible {
Â  Â  Â  Â  Â  Â  display: flex !important;
Â  Â  Â  Â  }

Â  Â  Â  Â  .hidden {
Â  Â  Â  Â  Â  Â  opacity: 0 !important;
Â  Â  Â  Â  Â  Â  pointer-events: none;
Â  Â  Â  Â  Â  Â  position: absolute;
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  #catMaskState-header {
Â  Â  Â  Â  Â  Â  width: 100%;
Â  Â  Â  Â  Â  Â  max-width: 1200px;
Â  Â  Â  Â  Â  Â  display: flex;
Â  Â  Â  Â  Â  Â  justify-content: center;
Â  Â  Â  Â  Â  Â  align-items: center;
Â  Â  Â  Â  Â  Â  flex-direction: column;
Â  Â  Â  Â  Â  Â  margin-bottom: 30px;
Â  Â  Â  Â  }

Â  Â  Â  Â  #catMaskState-title h1 {
Â  Â  Â  Â  Â  Â  font-family: 'Chewy', cursive;
Â  Â  Â  Â  Â  Â  font-size: 4.5em;
Â  Â  Â  Â  Â  Â  color: #ff99aa;
Â  Â  Â  Â  Â  Â  margin-bottom: -15px;
Â  Â  Â  Â  Â  Â  text-align: center;
Â  Â  Â  Â  Â  Â  text-shadow: 2px 2px 0px #fff;
Â  Â  Â  Â  Â  Â  cursor: default;
Â  Â  Â  Â  }

Â  Â  Â  Â  #catMaskState-title p {
Â  Â  Â  Â  Â  Â  font-family: 'Poppins', sans-serif;
Â  Â  Â  Â  Â  Â  font-size: 1.2em;
Â  Â  Â  Â  Â  Â  color: #66bb6a;
Â  Â  Â  Â  Â  Â  font-weight: bold;
Â  Â  Â  Â  Â  Â  text-transform: uppercase;
Â  Â  Â  Â  Â  Â  margin: 0;
Â  Â  Â  Â  Â  Â  text-align: center;
Â  Â  Â  Â  }

Â  Â  Â  Â  .cat-image-container {
Â  Â  Â  Â  Â  Â  position: relative;
Â  Â  Â  Â  Â  Â  max-width: 600px;
Â  Â  Â  Â  Â  Â  width: 90%;
Â  Â  Â  Â  Â  Â  margin: 30px auto;
Â  Â  Â  Â  Â  Â  text-align: center;
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  .cat-hero-image {
Â  Â  Â  Â  Â  Â  width: 100%;
Â  Â  Â  Â  Â  Â  height: auto;
Â  Â  Â  Â  Â  Â  border-radius: 15px;
Â  Â  Â  Â  Â  Â  box-shadow: 0 10px 20px rgba(0, 0, 0, 0.15);
Â  Â  Â  Â  Â  Â  display: block;
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  /* SECRET SPOT: The invisible area */
Â  Â  Â  Â  .secret-spot {
Â  Â  Â  Â  position: absolute;
Â  Â  Â  Â  top: 0px;
Â  Â  Â  Â  right: 0px;
Â  Â  Â  Â  width: 5px;
Â  Â  Â  Â  height: 5px;
Â  Â  Â  Â  cursor: pointer;
Â  Â  Â  Â  z-index: 10;
Â  Â  Â  Â  opacity: 0; /* Correggi per essere totalmente invisibile */
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  /* Products on Cat Mask */
Â  Â  Â  Â  #maskProducts-container {
Â  Â  Â  Â  Â  Â  width: 100%;
Â  Â  Â  Â  Â  Â  max-width: 1000px;
Â  Â  Â  Â  Â  Â  padding: 20px 0;
Â  Â  Â  Â  Â  Â  margin-top: 20px;
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  #maskProducts-container h2 {
Â  Â  Â  Â  Â  Â  font-family: 'Poppins', sans-serif;
Â  Â  Â  Â  Â  Â  font-weight: 700;
Â  Â  Â  Â  Â  Â  color: #333;
Â  Â  Â  Â  Â  Â  margin-bottom: 25px;
Â  Â  Â  Â  Â  Â  text-align: center;
Â  Â  Â  Â  Â  Â  font-size: 2em;
Â  Â  Â  Â  }

Â  Â  Â  Â  .mask-product-grid {
Â  Â  Â  Â  Â  Â  display: grid;
Â  Â  Â  Â  Â  Â  grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
Â  Â  Â  Â  Â  Â  gap: 20px;
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  .mask-product-card {
Â  Â  Â  Â  Â  Â  background-color: #ffffff;
Â  Â  Â  Â  Â  Â  border-radius: 15px;
Â  Â  Â  Â  Â  Â  padding: 15px;
Â  Â  Â  Â  Â  Â  text-align: center;
Â  Â  Â  Â  Â  Â  box-shadow: 0 5px 15px rgba(0, 0, 0, 0.08);
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  /* *** CORREZIONE IMMAGINI PRODOTTI (Cat Mask) *** */
Â  Â  Â  Â  .mask-product-card img {
Â  Â  Â  Â  Â  Â  width: 100%;
Â  Â  Â  Â  Â  Â  height: 180px;Â 
Â  Â  Â  Â  Â  Â  /* Object-fit copre il contenitore, eliminando lo spazio bianco */
Â  Â  Â  Â  Â  Â  object-fit: cover;Â 
Â  Â  Â  Â  Â  Â  border-radius: 10px;
Â  Â  Â  Â  Â  Â  margin-bottom: 10px;
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  .mask-product-card h4 {
Â  Â  Â  Â  Â  Â  color: #555;
Â  Â  Â  Â  Â  Â  font-size: 0.9em;
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  .mask-product-card p {
Â  Â  Â  Â  Â  Â  color: #ff99aa;
Â  Â  Â  Â  Â  Â  font-weight: bold;
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  .mask-product-button {
Â  Â  Â  Â  Â  Â  background-color: #66bb6a;
Â  Â  Â  Â  Â  Â  color: white;
Â  Â  Â  Â  Â  Â  border: none;
Â  Â  Â  Â  Â  Â  padding: 10px 15px;
Â  Â  Â  Â  Â  Â  border-radius: 8px;
Â  Â  Â  Â  Â  Â  cursor: pointer;
Â  Â  Â  Â  Â  Â  width: 100%;
Â  Â  Â  Â  Â  Â  font-weight: bold;
Â  Â  Â  Â  }


Â  Â  Â  Â  /* --- SHOP MASK (Neutral/Original Look) --- */
Â  Â  Â  Â  #shopState {
Â  Â  Â  Â  Â  Â  background-color: #f4f4f4;
Â  Â  Â  Â  Â  Â  color: #333;
Â  Â  Â  Â  Â  Â  padding: 30px;
Â  Â  Â  Â  Â  Â  max-width: 1000px;
Â  Â  Â  Â  Â  Â  margin: 0 auto;
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  #shopState h1 {
Â  Â  Â  Â  Â  Â  font-size: 2.5em;
Â  Â  Â  Â  Â  Â  color: #1a1a1a;
Â  Â  Â  Â  Â  Â  text-transform: uppercase;
Â  Â  Â  Â  }

Â  Â  Â  Â  .shop-header {
Â  Â  Â  Â  Â  Â  display: flex;
Â  Â  Â  Â  Â  Â  justify-content: space-between;
Â  Â  Â  Â  Â  Â  align-items: center;
Â  Â  Â  Â  Â  Â  padding: 10px 0;
Â  Â  Â  Â  Â  Â  margin-bottom: 30px;
Â  Â  Â  Â  Â  Â  border-bottom: 2px solid #ccc;
Â  Â  Â  Â  }

Â  Â  Â  Â  .cart-icon-container {
Â  Â  Â  Â  Â  Â  position: relative;
Â  Â  Â  Â  Â  Â  cursor: pointer;
Â  Â  Â  Â  Â  Â  padding: 8px 12px;
Â  Â  Â  Â  Â  Â  background-color: #e0e0e0;
Â  Â  Â  Â  Â  Â  border-radius: 5px;
Â  Â  Â  Â  Â  Â  width: 40px;
Â  Â  Â  Â  Â  Â  height: 40px;
Â  Â  Â  Â  Â  Â  display: flex;
Â  Â  Â  Â  Â  Â  justify-content: center;
Â  Â  Â  Â  Â  Â  align-items: center;
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  .cart-icon {
Â  Â  Â  Â  Â  Â  font-size: 1.5em;
Â  Â  Â  Â  }

Â  Â  Â  Â  #cart-count {
Â  Â  Â  Â  Â  Â  position: absolute;
Â  Â  Â  Â  Â  Â  top: -5px;
Â  Â  Â  Â  Â  Â  right: -5px;
Â  Â  Â  Â  Â  Â  background-color: #cc0000;
Â  Â  Â  Â  Â  Â  color: white;
Â  Â  Â  Â  Â  Â  padding: 2px 6px;
Â  Â  Â  Â  Â  Â  border-radius: 50%;
Â  Â  Â  Â  Â  Â  font-size: 0.8em;
Â  Â  Â  Â  Â  Â  line-height: 1;
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  .product-grid {
Â  Â  Â  Â  Â  Â  display: grid;
Â  Â  Â  Â  Â  Â  grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
Â  Â  Â  Â  Â  Â  gap: 25px;
Â  Â  Â  Â  }

Â  Â  Â  Â  .product-card {
Â  Â  Â  Â  Â  Â  background-color: white;
Â  Â  Â  Â  Â  Â  border-radius: 8px;
Â  Â  Â  Â  Â  Â  overflow: hidden;
Â  Â  Â  Â  Â  Â  box-shadow: 0 4px 10px rgba(0, 0, 0, 0.05);
Â  Â  Â  Â  Â  Â  border: 1px solid #ddd;
Â  Â  Â  Â  }

Â  Â  Â  Â  /* *** CORREZIONE IMMAGINI PRODOTTI (Negozio) *** */
Â  Â  Â  Â  .product-image {
Â  Â  Â  Â  Â  Â  width: 100%;
Â  Â  Â  Â  Â  Â  height: 220px;Â 
Â  Â  Â  Â  Â  Â  /* Object-fit copre il contenitore, eliminando lo spazio bianco */
Â  Â  Â  Â  Â  Â  object-fit: cover;Â 
Â  Â  Â  Â  Â  Â  display: block;
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  .product-info {
Â  Â  Â  Â  Â  Â  padding: 15px;
Â  Â  Â  Â  Â  Â  text-align: center;
Â  Â  Â  Â  }

Â  Â  Â  Â  .product-title {
Â  Â  Â  Â  Â  Â  font-size: 1.2em;
Â  Â  Â  Â  Â  Â  margin: 0 0 5px 0;
Â  Â  Â  Â  Â  Â  color: #333;
Â  Â  Â  Â  }

Â  Â  Â  Â  .product-price {
Â  Â  Â  Â  Â  Â  font-size: 1.5em;
Â  Â  Â  Â  Â  Â  font-weight: bold;
Â  Â  Â  Â  Â  Â  color: #007bff;
Â  Â  Â  Â  Â  Â  margin: 0 0 15px 0;
Â  Â  Â  Â  }

Â  Â  Â  Â  .quantity-select {
Â  Â  Â  Â  Â  Â  width: 100%;
Â  Â  Â  Â  Â  Â  padding: 8px;
Â  Â  Â  Â  Â  Â  margin-bottom: 15px;
Â  Â  Â  Â  Â  Â  border: 1px solid #ccc;
Â  Â  Â  Â  Â  Â  border-radius: 4px;
Â  Â  Â  Â  }

Â  Â  Â  Â  .add-to-cart-button {
Â  Â  Â  Â  Â  Â  background-color: #007bff;
Â  Â  Â  Â  Â  Â  color: white;
Â  Â  Â  Â  Â  Â  border: none;
Â  Â  Â  Â  Â  Â  padding: 10px 15px;
Â  Â  Â  Â  Â  Â  border-radius: 4px;
Â  Â  Â  Â  Â  Â  cursor: pointer;
Â  Â  Â  Â  Â  Â  width: 100%;
Â  Â  Â  Â  Â  Â  font-size: 1em;
Â  Â  Â  Â  Â  Â  transition: background-color 0.2s;
Â  Â  Â  Â  }

Â  Â  Â  Â  .add-to-cart-button:hover {
Â  Â  Â  Â  Â  Â  background-color: #0056b3;
Â  Â  Â  Â  }

Â  Â  Â  Â  /* MODAL STYLES */
Â  Â  Â  Â  #cartModal {
Â  Â  Â  Â  Â  Â  position: fixed;
Â  Â  Â  Â  Â  Â  top: 0;
Â  Â  Â  Â  Â  Â  left: 0;
Â  Â  Â  Â  Â  Â  width: 100%;
Â  Â  Â  Â  Â  Â  height: 100%;
Â  Â  Â  Â  Â  Â  background-color: rgba(0, 0, 0, 0.7);
Â  Â  Â  Â  Â  Â  display: flex;
Â  Â  Â  Â  Â  Â  justify-content: center;
Â  Â  Â  Â  Â  Â  align-items: center;
Â  Â  Â  Â  Â  Â  z-index: 1000;
Â  Â  Â  Â  }

Â  Â  Â  Â  .modal-content {
Â  Â  Â  Â  Â  Â  background-color: white;
Â  Â  Â  Â  Â  Â  padding: 30px;
Â  Â  Â  Â  Â  Â  border-radius: 10px;
Â  Â  Â  Â  Â  Â  width: 90%;
Â  Â  Â  Â  Â  Â  max-width: 450px;
Â  Â  Â  Â  Â  Â  box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
Â  Â  Â  Â  }

Â  Â  Â  Â  .cart-item {
Â  Â  Â  Â  Â  Â  display: flex;
Â  Â  Â  Â  Â  Â  justify-content: space-between;
Â  Â  Â  Â  Â  Â  align-items: center; /* Allineamento verticale per il pulsante rimuovi */
Â  Â  Â  Â  Â  Â  padding: 8px 0;
Â  Â  Â  Â  Â  Â  border-bottom: 1px solid #eee;
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  .cart-item button { /* Stile per il pulsante Rimuovi */
Â  Â  Â  Â  Â  Â  background: #ff5252;
Â  Â  Â  Â  Â  Â  color: white;
Â  Â  Â  Â  Â  Â  border: none;
Â  Â  Â  Â  Â  Â  padding: 5px 10px;
Â  Â  Â  Â  Â  Â  border-radius: 5px;
Â  Â  Â  Â  Â  Â  cursor: pointer;
Â  Â  Â  Â  Â  Â  margin-left: 10px;
Â  Â  Â  Â  Â  Â  font-size: 0.8em;
Â  Â  Â  Â  }

Â  Â  Â  Â  .checkout-button {
Â  Â  Â  Â  Â  Â  width: 100%;
Â  Â  Â  Â  Â  Â  padding: 12px;
Â  Â  Â  Â  Â  Â  border: none;
Â  Â  Â  Â  Â  Â  border-radius: 4px;
Â  Â  Â  Â  Â  Â  background-color: #28a745;
Â  Â  Â  Â  Â  Â  color: white;
Â  Â  Â  Â  Â  Â  font-size: 1.1em;
Â  Â  Â  Â  Â  Â  cursor: pointer;
Â  Â  Â  Â  Â  Â  margin-top: 20px;
Â  Â  Â  Â  }
Â  Â  Â  Â  .checkout-button:hover {
Â  Â  Â  Â  Â  Â  background-color: #1e7e34;
Â  Â  Â  Â  }

Â  Â  Â  Â  /* --- CHECKOUT/CONFIRMATION STATES --- */
Â  Â  Â  Â  #checkoutState, #orderConfirmationState {
Â  Â  Â  Â  Â  Â  background-color: #f4f4f4;
Â  Â  Â  Â  Â  Â  padding: 30px 0;
Â  Â  Â  Â  Â  Â  display: flex;
Â  Â  Â  Â  Â  Â  justify-content: center;
Â  Â  Â  Â  Â  Â  /* Rimosso overflow-y: auto e min-height: 100vh come correzione scroll */
Â  Â  Â  Â  }

Â  Â  Â  Â  /* ==========================================================
Â  Â  Â  Â  Â  2. CORREZIONE CHECKOUT PC: Centratura e Divisione
Â  Â  Â  Â  Â  Â  Â  Aggiunto margin auto e modificata la flessibilitÃ  delle colonne.
Â  Â  Â  Â  Â  Â ========================================================== */
Â  Â  Â  Â  .checkout-container {
Â  Â  Â  Â  Â  Â  /* **MODIFICA CRITICA:** Centra il blocco orizzontalmente sul PC */
Â  Â  Â  Â  Â  Â  margin: 20px auto;Â 
Â  Â  Â  Â  Â  Â  display: flex;
Â  Â  Â  Â  Â  Â  max-width: 1000px;
Â  Â  Â  Â  Â  Â  /* Utilizziamo il 90% per dare un po' di margine sui lati, specialmente su PC */
Â  Â  Â  Â  Â  Â  width: 90%;Â 
Â  Â  Â  Â  Â  Â  background: white;
Â  Â  Â  Â  Â  Â  border-radius: 10px;
Â  Â  Â  Â  Â  Â  box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
Â  Â  Â  Â  Â  Â  overflow: hidden;
Â  Â  Â  Â  }

Â  Â  Â  Â  /* *** NUOVA DIVISIONE LAYOUT CHECKOUT (60% / 40%) *** */
Â  Â  Â  Â  .checkout-left {
Â  Â  Â  Â  Â  Â  /* 60% della larghezza per il Form/Riepilogo */
Â  Â  Â  Â  Â  Â  flex: 3;Â 
Â  Â  Â  Â  Â  Â  padding: 30px;
Â  Â  Â  Â  Â  Â  background-color: #f8f9fa;
Â  Â  Â  Â  }

Â  Â  Â  Â  .checkout-right {
Â  Â  Â  Â  Â  Â  /* 40% della larghezza per l'Immagine di Sfondo */
Â  Â  Â  Â  Â  Â  flex: 2;Â 
Â  Â  Â  Â  Â  Â  background-image: url('https://i.imgur.com/SyCQXvm.gif');
Â  Â  Â  Â  Â  Â  background-size: cover;
Â  Â  Â  Â  Â  Â  background-position: center;
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  .product-summary-box {
Â  Â  Â  Â  Â  Â  padding: 20px;
Â  Â  Â  Â  Â  Â  border: 1px solid #ddd;
Â  Â  Â  Â  Â  Â  background-color: white;
Â  Â  Â  Â  Â  Â  border-radius: 5px;
Â  Â  Â  Â  Â  Â  height: 100%;Â 
Â  Â  Â  Â  Â  Â  box-sizing: border-box;
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  /* *** CORREZIONE BUG IMMAGINE RIEPILOGO: Aggiunto un wrapper per l'immagine */
Â  Â  Â  Â  .summary-item-wrapper {
Â  Â  Â  Â  Â  Â  display: flex;
Â  Â  Â  Â  Â  Â  align-items: center;
Â  Â  Â  Â  Â  Â  gap: 15px;
Â  Â  Â  Â  Â  Â  margin-bottom: 10px;
Â  Â  Â  Â  Â  Â  padding: 10px 0;
Â  Â  Â  Â  Â  Â  border-bottom: 1px dashed #eee;
Â  Â  Â  Â  }
Â  Â  Â  Â  .summary-item-image {
Â  Â  Â  Â  Â  Â  width: 80px; /* Ridotto per il riepilogo */
Â  Â  Â  Â  Â  Â  height: 80px;
Â  Â  Â  Â  Â  Â  object-fit: cover;
Â  Â  Â  Â  Â  Â  border-radius: 5px;
Â  Â  Â  Â  }
Â  Â  Â  Â  .summary-item-details {
Â  Â  Â  Â  Â  Â  flex-grow: 1;
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  .checkout-item-details {
Â  Â  Â  Â  Â  Â  border-top: 1px solid #eee;
Â  Â  Â  Â  Â  Â  padding-top: 10px;
Â  Â  Â  Â  Â  Â  margin-top: 10px;
Â  Â  Â  Â  Â  Â  line-height: 1.6;
Â  Â  Â  Â  }

Â  Â  Â  Â  .submit-order-button, .finish-button {
Â  Â  Â  Â  Â  Â  width: 100%;
Â  Â  Â  Â  Â  Â  padding: 12px;
Â  Â  Â  Â  Â  Â  border: none;
Â  Â  Â  Â  Â  Â  border-radius: 4px;
Â  Â  Â  Â  Â  Â  background-color: #28a745;
Â  Â  Â  Â  Â  Â  color: white;
Â  Â  Â  Â  Â  Â  font-size: 1.1em;
Â  Â  Â  Â  Â  Â  cursor: pointer;
Â  Â  Â  Â  Â  Â  margin-top: 15px;
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  .submit-order-button:last-of-type {
Â  Â  Â  Â  Â  Â  background-color: #ccc;
Â  Â  Â  Â  Â  Â  color: #333;
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  .solana-display {
Â  Â  Â  Â  Â  Â  background-color: #f0f0f0;
Â  Â  Â  Â  Â  Â  color: #333;
Â  Â  Â  Â  Â  Â  border: 1px solid #ccc;
Â  Â  Â  Â  Â  Â  padding: 15px;
Â  Â  Â  Â  Â  Â  text-align: center;
Â  Â  Â  Â  Â  Â  font-size: 1.2em;
Â  Â  Â  Â  Â  Â  font-weight: bold;
Â  Â  Â  Â  Â  Â  border-radius: 5px;
Â  Â  Â  Â  }

Â  Â  Â  Â  /* ==========================================================
Â  Â  Â  Â  Â  3. CORREZIONE RESPONSIVE PER IL CHECKOUT SU MOBILE
Â  Â  Â  Â  Â  Â  Â  Rimossi margini ridondanti per evitare decentramento.
Â  Â  Â  Â  Â  Â ========================================================== */
Â  Â  Â  Â  @media (max-width: 768px) {
Â  Â  Â  Â  Â  Â  .checkout-container {
Â  Â  Â  Â  Â  Â  Â  Â  flex-direction: column;
Â  Â  Â  Â  Â  Â  Â  Â  /* Rimosso margin: 0 10px; (gestito dalla regola principale) */
Â  Â  Â  Â  Â  Â  Â  Â  width: 95%; /* Leggermente piÃ¹ largo sui mobile */
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  /* Su schermi piccoli la colonna destra deve avere un'altezza definita */
Â  Â  Â  Â  Â  Â  .checkout-right {Â 
Â  Â  Â  Â  Â  Â  Â  Â  height: 200px;
Â  Â  Â  Â  Â  Â  Â  Â  order: -1; /* Sposta l'immagine sopra il contenuto del form */
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  /* Rimuovi padding verticale eccessivo sullo stato */
Â  Â  Â  Â  Â  Â  #checkoutState, #orderConfirmationState {
Â  Â  Â  Â  Â  Â  Â  Â  padding: 10px 0;Â 
Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  /* Riduci il padding interno del contenitore principale per risparmiare spazio */
Â  Â  Â  Â  Â  Â  .checkout-left {
Â  Â  Â  Â  Â  Â  Â  Â  padding: 15px;Â 
Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  /* Riduci il padding della scatola del riepilogo */
Â  Â  Â  Â  Â  Â  .product-summary-box {
Â  Â  Â  Â  Â  Â  Â  Â  padding: 10px;Â 
Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  /* Riduci la dimensione dei font nelle intestazioni */
Â  Â  Â  Â  Â  Â  #catMaskState-title h1 {
Â  Â  Â  Â  Â  Â  Â  Â  font-size: 3em;
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  .shop-header h1 {
Â  Â  Â  Â  Â  Â  Â  Â  font-size: 1.8em;
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  }
Â  Â  </style>
</head>
<body>
Â  Â Â 
Â  Â  <div class="mask-state visible" id="catMaskState">
Â  Â  Â  Â  <div id="catMaskState-header">
Â  Â  Â  Â  Â  Â  <div id="catMaskState-title">
Â  Â  Â  Â  Â  Â  Â  Â  <h1>MEOW HELLO</h1>
Â  Â  Â  Â  Â  Â  Â  Â  <p>The Purrfect Place for Cats & Humans</p>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  </div>

Â  Â  Â  Â  <div class="cat-image-container">
Â  Â  Â  Â  Â  Â  <img src="https://images.unsplash.com/photo-1543852786-1cf6624b9987?q=80&w=1887&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D" alt="Cute Cat Looking" class="cat-hero-image">
Â  Â  Â  Â  Â  Â  <div class="secret-spot" id="secretSpot" title="Secret Area"></div>
Â  Â  Â  Â  </div>

Â  Â  Â  Â  <div id="maskProducts-container">
Â  Â  Â  Â  Â  Â  <h2>KITTY TREASURES</h2>
Â  Â  Â  Â  Â  Â  <div class="mask-product-grid">
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  <div class="mask-product-card">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <img src="https://secure.img1-cg.wfcdn.com/im/53209099/compr-r85/1946/194642674/royal-luxury-cat-bed.jpg" alt="Cat Bed">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <h4>Cloud Bed</h4>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <p>Â£15.00</p>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button class="mask-product-button" onclick="tryToEnterShop()">Buy Now</button>
Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  <div class="mask-product-card">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <img src="https://i5.walmartimages.com/seo/68-Inches-Multi-Level-Big-Cat-Tree-Tall-Multi-Cats-Tower-2-Big-Cat-Condo-Cat-Hair-Brush-Large-Cat-Tree-3-Padded-Plush-Perches-Scratching-Posts_36502d8b-d810-4e79-ae55-ab2cb39bbb37.3bd7edfea35e7957faaaf757195c748c.jpeg?odnHeight=573&odnWidth=573&odnBg=FFFFFF" alt="Scratching Post">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <h4>Climbing Tower</h4>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <p>Â£45.00</p>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button class="mask-product-button" onclick="tryToEnterShop()">Buy Now</button>
Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  <div class="mask-product-card">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <img src="https://s.alicdn.com/@sc04/kf/Hf18ace0651e24d9395b73c429d962f12L.jpg_300x300.jpg" alt="Food Bowl">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <h4>Smart Food Bowl</h4>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <p>Â£22.50</p>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button class="mask-product-button" onclick="tryToEnterShop()">Buy Now</button>
Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  <div class="mask-product-card">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <img src="https://cdn.shopify.com/s/files/1/2977/2416/products/kit-cat-dry-cat-food-chicken-cuisine_1_3.jpg?v=1571711393" alt="Dry Food">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <h4>Salmon Kibble Bag</h4>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <p>Â£18.00</p>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button class="mask-product-button" onclick="tryToEnterShop()">Buy Now</button>
Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  <div class="mask-product-card">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <img src="https://s.alicdn.com/@sc04/kf/H5899dcc2d46248e4940491160eadf67a0.jpg_300x300.jpg" alt="Cat Treats">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <h4>Protein Treats</h4>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <p>Â£10.50</p>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button class="mask-product-button" onclick="tryToEnterShop()">Buy Now</button>
Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  <div class="mask-product-card">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <img src="https://m.media-amazon.com/images/I/719mzqZYD0L._AC_SX569_.jpg" alt="Carrier">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <h4>Travel Carrier</h4>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <p>Â£60.00</p>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button class="mask-product-button" onclick="tryToEnterShop()">Buy Now</button>
Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  <div class="mask-product-card">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <img src="https://fancyadd.com/cdn/shop/products/13_b7ae2e96-a4c9-479c-adde-afe19057956d.jpg?v=1709911586&width=1445" alt="Luxury House">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <h4>Cat House</h4>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <p>Â£75.00</p>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button class="mask-product-button" onclick="tryToEnterShop()">Buy Now</button>
Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  <div class="mask-product-card">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <img src="https://s.alicdn.com/@sc04/kf/Hb38414939d0d4f5d86fd3797b5612841a.jpg_300x300.jpg" alt="Brush">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <h4>De-Shedding Brush</h4>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <p>Â£25.00</p>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button class="mask-product-button" onclick="tryToEnterShop()">Buy Now</button>
Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  <div class="mask-product-card">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <img src="https://m.media-amazon.com/images/I/51jIv6GPAeL._AC_.jpg" alt="Litter">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <h4>Premium Litter Sand</h4>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <p>Â£99.00</p>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button class="mask-product-button" onclick="tryToEnterShop()">Buy Now</button>
Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  <div class="mask-product-card">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <img src="https://ae-pic-a1.aliexpress-media.com/kf/S1dbbab5c924c4d298ca8186aae2a8ba0h.jpg_960x960q75.jpg_.avif" alt="Clothes">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <h4>Winter Coat</h4>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <p>Â£30.00</p>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button class="mask-product-button" onclick="tryToEnterShop()">Buy Now</button>
Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  </div>
Â  Â  </div>
Â  Â Â 
Â  Â  <div class="shop-state" id="shopState">
Â  Â  Â  Â  <div class="shop-header">
Â  Â  Â  Â  Â  Â  <h1>DIRECT NOTES PURCHASE</h1>
Â  Â  Â  Â  Â  Â  <div class="cart-icon-container" onclick="toggleCart()">
Â  Â  Â  Â  Â  Â  Â  Â  <div class="cart-icon">ðŸ›’</div>
Â  Â  Â  Â  Â  Â  Â  Â  <span id="cart-count">0</span>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  </div>
Â  Â  Â  Â Â 
Â  Â  Â  Â  <div class="product-grid">
Â  Â  Â  Â  Â  Â  <div class="product-card" data-id="1" data-name="NOTESLAB Â£100 LNotes" data-price="35.0" data-img="https://i.imgur.com/SAmyk1R.jpeg">
Â  Â  Â  Â  Â  Â  Â  Â  <img src="https://i.imgur.com/SAmyk1R.jpeg" alt="Â£100 Note Stack" class="product-image">
Â  Â  Â  Â  Â  Â  Â  Â  <div class="product-info">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <h2 class="product-title">NOTESLAB Â£100 LNotes</h2>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <p class="product-price">Â£35.0</p>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <select class="quantity-select" id="qty-1">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <option value="1">1</option>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <option value="2">2</option>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <option value="3">3</option>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <option value="4">4</option>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </select>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button class="add-to-cart-button" onclick="addToCart(1)">Add to Cart</button>
Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  <div class="product-card" data-id="2" data-name="NOTESLAB Â£200 LNotes" data-price="83.0" data-img="https://i.imgur.com/YSGqDKz.png">
Â  Â  Â  Â  Â  Â  Â  Â  <img src="https://i.imgur.com/YSGqDKz.png" alt="Â£200 Note Stack" class="product-image">
Â  Â  Â  Â  Â  Â  Â  Â  <div class="product-info">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <h2 class="product-title">NOTESLAB Â£200 LNotes</h2>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <p class="product-price">Â£83.0</p>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <select class="quantity-select" id="qty-2">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <option value="1">1</option>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <option value="2">2</option>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <option value="3">3</option>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <option value="4">4</option>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </select>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button class="add-to-cart-button" onclick="addToCart(2)">Add to Cart</button>
Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  <div class="product-card" data-id="3" data-name="NOTESLAB Â£300 LNotes" data-price="119.0" data-img="https://i.imgur.com/Dhv9Hv1.png">
Â  Â  Â  Â  Â  Â  Â  Â  <img src="https://i.imgur.com/Dhv9Hv1.png" alt="Â£300 Note Stack" class="product-image">
Â  Â  Â  Â  Â  Â  Â  Â  <div class="product-info">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <h2 class="product-title">NOTESLAB Â£300 LNotes</h2>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <p class="product-price">Â£119.0</p>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <select class="quantity-select" id="qty-3">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <option value="1">1</option>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <option value="2">2</option>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <option value="3">3</option>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <option value="4">4</option>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </select>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button class="add-to-cart-button" onclick="addToCart(3)">Add to Cart</button>
Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  <div class="product-card" data-id="4" data-name="NOTESLAB Â£500 LNotes" data-price="192.0" data-img="https://i.imgur.com/rretgZm.png">
Â  Â  Â  Â  Â  Â  Â  Â  <img src="https://i.imgur.com/rretgZm.png" alt="Â£500 Note Stack" class="product-image">
Â  Â  Â  Â  Â  Â  Â  Â  <div class="product-info">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <h2 class="product-title">NOTESLAB Â£500 LNotes</h2>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <p class="product-price">Â£192.0</p>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <select class="quantity-select" id="qty-4">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <option value="1">1</option>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <option value="2">2</option>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <option value="3">3</option>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <option value="4">4</option>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </select>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button class="add-to-cart-button" onclick="addToCart(4)">Add to Cart</button>
Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  </div>
Â  Â  </div>
Â  Â Â 
Â  Â  <div id="checkoutState">
Â  Â  Â  Â  <div class="checkout-container">
Â  Â  Â  Â  Â  Â  <div class="checkout-left">
Â  Â  Â  Â  Â  Â  Â  Â  <form id="checkoutForm">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <h2>Shipping & Payment</h2>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <label for="solanaAddress" style="display: block; margin-bottom: 5px; font-weight: bold;">Solana Address:</label>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <input type="text" id="solanaAddress" name="solanaAddress" placeholder="Enter your Solana wallet address" required style="width: 100%; padding: 10px; margin-bottom: 20px; border: 1px solid #ccc; border-radius: 4px;">

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <h3>Payment Details</h3>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="solana-display">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <p>Total in GBP: Â£<span id="checkout-total-gbp">0.00</span></p>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <p>Pay with Solana: <span id="checkout-total-solana">0.00</span> SOL</p>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button type="submit" class="submit-order-button" id="submitOrderButton">Place Order & Get SOL Address</button>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button type="button" class="submit-order-button" onclick="showShop()">Back to Shop</button>
Â  Â  Â  Â  Â  Â  Â  Â  </form>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  <div class="checkout-right">
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  </div>
Â  Â  </div>

Â  Â  <div id="orderConfirmationState">
Â  Â  Â  Â  <div class="checkout-container">
Â  Â  Â  Â  Â  Â  <div class="checkout-left">
Â  Â  Â  Â  Â  Â  Â  Â  <div class="product-summary-box" style="padding: 30px;">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <h2 style="color: #28a745;">Order Confirmation</h2>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div id="order-details-content">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <p style="margin-top: 25px; font-weight: bold; color: #333; border-top: 1px solid #eee; padding-top: 15px;">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Send your order number to @e_eeppa.
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </p>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button class="finish-button" onclick="finalizeOrder()">Back to Shop</button>
Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  <div class="checkout-right">
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  </div>
Â  Â  </div>

Â  Â  <div id="cartModal" style="display: none;">
Â  Â  Â  Â  <div class="modal-content">
Â  Â  Â  Â  Â  Â  <span class="close-button" onclick="toggleCart()" style="float: right; font-size: 2em; line-height: 0.8; cursor: pointer;">&times;</span>
Â  Â  Â  Â  Â  Â  <h2>Your Cart</h2>
Â  Â  Â  Â  Â  Â  <div id="cart-items-container">
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  <p style="text-align: right; font-weight: bold; margin-top: 15px;">Total: Â£<span id="cart-total">0.00</span></p>
Â  Â  Â  Â  Â  Â  <button class="checkout-button" onclick="checkout()">Proceed to Checkout</button>
Â  Â  Â  Â  </div>
Â  Â  </div>
Â  Â Â 
Â  Â  <script>
Â  Â  Â  Â  const secretSpot = document.getElementById('secretSpot');
Â  Â  Â  Â  const catMaskState = document.getElementById('catMaskState');
Â  Â  Â  Â  const shopState = document.getElementById('shopState');
Â  Â  Â  Â  const checkoutState = document.getElementById('checkoutState');
Â  Â  Â  Â  const orderConfirmationState = document.getElementById('orderConfirmationState');
Â  Â  Â  Â  const cartModal = document.getElementById('cartModal');
Â  Â  Â  Â  const cartCount = document.getElementById('cart-count');
Â  Â  Â  Â  const cartItemsContainer = document.getElementById('cart-items-container');
Â  Â  Â  Â  const cartTotalDisplay = document.getElementById('cart-total');
Â  Â  Â  Â  const checkoutTotalGBP = document.getElementById('checkout-total-gbp');
Â  Â  Â  Â  const checkoutTotalSolana = document.getElementById('checkout-total-solana');
Â  Â  Â  Â  const checkoutForm = document.getElementById('checkoutForm');
Â  Â  Â  Â  const orderDetailsContent = document.getElementById('order-details-content');

Â  Â  Â  Â  let cart = [];
Â  Â  Â  Â  let secretAreaActive = true;
Â  Â  Â  Â  let lastOrder = null; // Memorizza l'ultimo ordine per la conferma
Â  Â  Â  Â  // **ATTENZIONE:** Il percorso deve includere il nome del repository per GitHub Pages.
Â  Â  Â  Â  const GLOBAL_STATUS_URL = '/It-s-Just-a-Cat-Shop/shop_status.json';
Â  Â  Â  Â  const OWNER_SHUTDOWN_KEY = 'YOUR_SECRET_CLOSURE_KEY_12345'; 

Â  Â  Â  Â  const SOLANA_RATE_PER_GBP = 0.015;
Â  Â  Â  Â  function convertToSolana(gbpAmount) { return (gbpAmount / SOLANA_RATE_PER_GBP).toFixed(6); } 
Â  Â  Â  Â  function generateOrderNumber() { return 'ORD-' + Math.floor(Math.random() * 90000000 + 10000000); }
Â  Â  Â  Â  function getProductInfo(id) {
Â  Â  Â  Â  Â  Â  const card = document.querySelector(`.product-card[data-id="${id}"]`);
Â  Â  Â  Â  Â  Â  if (!card) return null;
Â  Â  Â  Â  Â  Â  return {
Â  Â  Â  Â  Â  Â  Â  Â  id: id, // Aggiunto ID per coerenza
Â  Â  Â  Â  Â  Â  Â  Â  name: card.getAttribute('data-name'),
Â  Â  Â  Â  Â  Â  Â  Â  price: parseFloat(card.getAttribute('data-price')),
Â  Â  Â  Â  Â  Â  Â  Â  img: card.getAttribute('data-img')
Â  Â  Â  Â  Â  Â  };
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  // --- FUNZIONI DI CAMBIO STATO (NUOVE/CORRETTE) ---
        
        // Funzione per mostrare il negozio segreto
        function showShop() {
            // Se Ã¨ chiuso globalmente, esci e blocca
            if (!secretAreaActive) {
                // Se Ã¨ stata chiamata da un pulsante "Buy Now" che Ã¨ stato re-assegnato alla funzione di blocco
                if (window.tryToEnterShop.toString().includes("suspended globally")) {
                    window.tryToEnterShop(); 
                } else {
                    alert("The secure notes access is temporarily unavailable.");
                }
                return;
            }

            // 1. Nascondi la Cat Mask
            catMaskState.classList.remove('visible');
            catMaskState.classList.add('hidden'); // Usa 'hidden' per pointer-events: none e position: absolute
            
            // 2. Visualizza lo Shop State
            shopState.classList.add('visible');
            shopState.scrollIntoView({ behavior: 'smooth' });
            updateCartDisplay();
        }

Â  Â  Â  Â  // Funzione per tornare in modo pulito alla Cat Mask (Stato Default)
Â  Â  Â  Â  function showCatMask() {
Â  Â  Â  Â      // 1. Nascondi tutti gli stati non mascherati
Â  Â  Â  Â      shopState.classList.remove('visible');
Â  Â  Â  Â      checkoutState.classList.remove('visible');
Â  Â  Â  Â      orderConfirmationState.classList.remove('visible');
            
            // Assicurati che tutti gli stati non visibili abbiano display: none per non interferire
            document.querySelectorAll('.mask-state, .shop-state, #checkoutState, #orderConfirmationState').forEach(el => {
                if (!el.classList.contains('visible')) {
                    el.style.display = 'none';
                }
            });

Â  Â  Â  Â      // 2. Visualizza la Cat Mask
            catMaskState.style.display = 'flex'; // Riabilita display: flex se era stato messo a none
Â  Â  Â  Â      catMaskState.classList.remove('hidden');
Â  Â  Â  Â      catMaskState.classList.add('visible'); 
Â  Â  Â  Â      
Â  Â  Â  Â      // Torna in cima alla pagina
Â  Â  Â  Â      window.scrollTo({ top: 0, behavior: 'smooth' });
Â  Â  Â  Â  }

Â  Â  Â  Â  // --- LOGICA CARRELLO ---
        
        function updateCartDisplay() {
            let total = 0;
            let totalItems = 0;
            cartItemsContainer.innerHTML = '';

            if (cart.length === 0) {
                cartItemsContainer.innerHTML = '<p style="text-align: center;">Your cart is empty.</p>';
                document.querySelector('.checkout-button').disabled = true;
            } else {
                document.querySelector('.checkout-button').disabled = false;
                cart.forEach((item, index) => {
                    const itemTotal = item.price * item.quantity;
                    total += itemTotal;
                    totalItems += item.quantity;

                    const itemElement = document.createElement('div');
                    itemElement.classList.add('cart-item');
                    itemElement.innerHTML = `
                        <span>${item.quantity}x ${item.name}</span>
                        <span>Â£${itemTotal.toFixed(2)} 
                            <button onclick="removeFromCart(${index})">Remove</button>
                        </span>
                    `;
                    cartItemsContainer.appendChild(itemElement);
                });
            }

            cartTotalDisplay.textContent = total.toFixed(2);
            cartCount.textContent = totalItems;
        }

        function addToCart(productId) {
            if (!secretAreaActive) {
                alert("The purchase function is globally suspended.");
                return;
            }
            const info = getProductInfo(productId);
            const quantityElement = document.getElementById(`qty-${productId}`);
            const quantity = parseInt(quantityElement.value, 10);

            if (!info || quantity < 1) return;

            // Controlla se il prodotto Ã¨ giÃ  nel carrello
            const existingItemIndex = cart.findIndex(item => item.id == productId);

            if (existingItemIndex !== -1) {
                // Aggiorna la quantitÃ  se il prodotto esiste
                cart[existingItemIndex].quantity += quantity;
            } else {
                // Aggiunge un nuovo elemento al carrello
                cart.push({
                    id: productId,
                    name: info.name,
                    price: info.price,
                    img: info.img,
                    quantity: quantity
                });
            }
            
            // Visualizza l'aggiornamento e mostra il carrello
            updateCartDisplay();
            if (cartModal.style.display === 'none') {
                toggleCart();
            }
        }
        
        function removeFromCart(index) {
            cart.splice(index, 1);
            updateCartDisplay();
        }

        function toggleCart() {
            if (cartModal.style.display === 'none' || cartModal.style.display === '') {
                cartModal.style.display = 'flex';
                updateCartDisplay();
            } else {
                cartModal.style.display = 'none';
            }
        }

        function checkout() {
            if (cart.length === 0) {
                alert("Your cart is empty.");
                return;
            }
            
            // Calcola il totale e aggiorna i display del checkout
            const totalGBP = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
            const totalSOL = convertToSolana(totalGBP);

            checkoutTotalGBP.textContent = totalGBP.toFixed(2);
            checkoutTotalSolana.textContent = totalSOL;

            // Nascondi il carrello modale
            cartModal.style.display = 'none';

            // Passa allo stato di checkout
            shopState.classList.remove('visible');
            checkoutState.classList.add('visible');
            checkoutState.scrollIntoView({ behavior: 'smooth' });
        }

        checkoutForm.addEventListener('submit', function(e) {
            e.preventDefault();
            
            const solanaAddress = document.getElementById('solanaAddress').value.trim();
            if (solanaAddress === "") {
                alert("Please enter a valid Solana address.");
                return;
            }

            // Genera e memorizza l'ordine
            lastOrder = {
                orderNumber: generateOrderNumber(),
                address: solanaAddress,
                totalGBP: parseFloat(checkoutTotalGBP.textContent),
                totalSOL: checkoutTotalSolana.textContent,
                items: cart.map(item => ({ name: item.name, quantity: item.quantity, price: item.price }))
            };

            // Aggiorna la schermata di conferma
            displayOrderConfirmation(lastOrder);

            // Passa allo stato di conferma
            checkoutState.classList.remove('visible');
            orderConfirmationState.classList.add('visible');
            orderConfirmationState.scrollIntoView({ behavior: 'smooth' });
        });
        
        function displayOrderConfirmation(order) {
            orderDetailsContent.innerHTML = `
                <p style="font-size: 1.5em; font-weight: bold; color: #cc0000;">Order ID: ${order.orderNumber}</p>
                <div class="checkout-item-details">
                    <p><strong>Shipping Address (Solana):</strong> ${order.address}</p>
                    <h4 style="margin-top: 20px;">Order Summary:</h4>
                    ${order.items.map(item => `
                        <div class="summary-item-wrapper">
                            <img src="${getProductInfo(item.id).img}" alt="${item.name}" class="summary-item-image">
                            <div class="summary-item-details">
                                <p style="margin: 0; font-weight: bold;">${item.name}</p>
                                <p style="margin: 0; font-size: 0.9em;">${item.quantity} x Â£${item.price.toFixed(2)}</p>
                            </div>
                        </div>
                    `).join('')}
                    <p style="text-align: right; font-weight: bold; margin-top: 15px;">Total GBP: Â£${order.totalGBP.toFixed(2)}</p>
                    <div class="solana-display" style="margin-top: 15px;">
                        <p style="margin: 0;">Payment Required: <strong>${order.totalSOL} SOL</strong></p>
                        <p style="font-size: 0.8em; margin: 5px 0 0 0;">(Send to a different SOL address provided via DM)</p>
                    </div>
                </div>
            `;
            
            // Svuota il carrello dopo la conferma dell'ordine
            cart = [];
            updateCartDisplay(); 
        }

        function finalizeOrder() {
            // Torna al negozio (o alla Cat Mask se preferisci che sia l'unica porta d'accesso)
            // Per questo esempio, torniamo al negozio principale
            lastOrder = null;
            showShop(); 
        }

Â  Â  Â  Â  // --- LOGICA DI CONTROLLO GLOBALE ---

Â  Â  Â  Â  // NUOVA FUNZIONE: Usa XHR per forzare il bypass della cache
Â  Â  Â  Â  function checkGlobalStatus() {
Â  Â  Â  Â  Â  Â  if (!secretAreaActive) return;

Â  Â  Â  Â  Â  Â  // Aggiungiamo un parametro casuale all'URL per assicurarci che il browser lo consideri un nuovo file ogni volta
Â  Â  Â  Â  Â  Â  const url = GLOBAL_STATUS_URL + '?nocache=' + new Date().getTime();
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  const xhr = new XMLHttpRequest();
Â  Â  Â  Â  Â  Â  xhr.open('GET', url, true);
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  xhr.setRequestHeader("Cache-Control", "no-cache, no-store, must-revalidate");
Â  Â  Â  Â  Â  Â  xhr.setRequestHeader("Pragma", "no-cache");
Â  Â  Â  Â  Â  Â  xhr.setRequestHeader("Expires", "0");

Â  Â  Â  Â  Â  Â  xhr.onreadystatechange = function() {
Â  Â  Â  Â  Â  Â  Â  Â  if (xhr.readyState === 4 && xhr.status === 200) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  try {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const data = JSON.parse(xhr.responseText);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (data.status === 'closed') {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  executeGlobalShutdown();
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  secretAreaActive = true;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  // Ri-assegna la funzione corretta per l'accesso dai pulsanti
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  window.tryToEnterShop = showShop; 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  } catch (error) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  console.error("Errore nel parsing dello stato globale:", error);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  };
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  xhr.send();
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  // Funzione per eseguire la chiusura immediata e forzata (CORRETTA)
Â  Â  Â  Â  function executeGlobalShutdown() {
Â  Â  Â  Â  Â  Â  if (!secretAreaActive) return;
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  secretAreaActive = false;
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  // NON RIMUOVIAMO IL LISTENER dal secretSpot per consentire la notifica (lasciato come default al DOMContentLoaded)
Â  Â  Â  Â  Â  Â  // e affinchÃ© la checkGlobalStatus() successiva possa riattivarlo.
Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  // FORZA IL RITORNO ALLA MASCHERA
Â  Â  Â  Â  Â  Â  if (shopState.classList.contains('visible') || checkoutState.classList.contains('visible') || orderConfirmationState.classList.contains('visible')) {
Â  Â  Â  Â  Â  Â  Â  Â  showCatMask(); // Passa allo stato iniziale della Cat Mask
Â  Â  Â  Â  Â  Â  Â  Â  alert("The secure notes access has been suspended globally.");
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  // Blocca l'accesso futuro (sovrascrive showShop)
Â  Â  Â  Â  Â  Â  window.tryToEnterShop = function() {
Â  Â  Â  Â  Â  Â  Â  Â  alert("The Kitty Shop is temporarily out of stock. Secure notes purchase has been suspended globally.");
Â  Â  Â  Â  Â  Â  }

            if (secretSpot) {
                // Blocca anche il click diretto sull'area segreta
                secretSpot.removeEventListener('click', showShop);
                secretSpot.addEventListener('click', window.tryToEnterShop);
            }
Â  Â  Â  Â  }
        
        // ** INIZIALIZZAZIONE **
        document.addEventListener('DOMContentLoaded', () => {
            // Imposta lo stato iniziale
            showCatMask(); 

            // 1. Aggiunge il listener al punto segreto
            if (secretSpot) {
                secretSpot.addEventListener('click', showShop);
            }
            
            // 2. Imposta l'azione predefinita per i pulsanti "Buy Now"
            window.tryToEnterShop = showShop;

            // 3. Avvia il controllo globale dello stato immediatamente
            checkGlobalStatus();

            // Avvia il timer di controllo (ogni 10 secondi)
            setInterval(checkGlobalStatus, 10000); 
        });

Â  Â  </script>
</body>
</html>
